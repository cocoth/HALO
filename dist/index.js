'use strict';const a0_0x51353a=a0_0x551f;(function(_0x432261,_0x5bd4d3){const _0x59822e=a0_0x551f,_0x517935=_0x432261();while(!![]){try{const _0x118ee3=-parseInt(_0x59822e(0x24f))/0x1+-parseInt(_0x59822e(0x2db))/0x2*(-parseInt(_0x59822e(0x2a3))/0x3)+parseInt(_0x59822e(0x1e2))/0x4+parseInt(_0x59822e(0x1e5))/0x5+-parseInt(_0x59822e(0x219))/0x6*(-parseInt(_0x59822e(0x294))/0x7)+parseInt(_0x59822e(0x213))/0x8+parseInt(_0x59822e(0x210))/0x9*(-parseInt(_0x59822e(0x2ae))/0xa);if(_0x118ee3===_0x5bd4d3)break;else _0x517935['push'](_0x517935['shift']());}catch(_0xf582e1){_0x517935['push'](_0x517935['shift']());}}}(a0_0x3aaa,0x5dc9f));var __create=Object[a0_0x51353a(0x21e)],__defProp=Object[a0_0x51353a(0x25d)],__getOwnPropDesc=Object[a0_0x51353a(0x272)],__getOwnPropNames=Object[a0_0x51353a(0x1fc)],__getProtoOf=Object[a0_0x51353a(0x1eb)],__hasOwnProp=Object['prototype'][a0_0x51353a(0x2af)],__export=(_0x5ddc7c,_0xf9cbe4)=>{for(var _0x4b42a8 in _0xf9cbe4)__defProp(_0x5ddc7c,_0x4b42a8,{'get':_0xf9cbe4[_0x4b42a8],'enumerable':!![]});},__copyProps=(_0x1a2c22,_0x3580e7,_0x25a069,_0x7d8dff)=>{const _0xe0a7e4=a0_0x51353a;if(_0x3580e7&&typeof _0x3580e7===_0xe0a7e4(0x266)||typeof _0x3580e7==='function'){for(let _0xe0c7bb of __getOwnPropNames(_0x3580e7))if(!__hasOwnProp[_0xe0a7e4(0x211)](_0x1a2c22,_0xe0c7bb)&&_0xe0c7bb!==_0x25a069)__defProp(_0x1a2c22,_0xe0c7bb,{'get':()=>_0x3580e7[_0xe0c7bb],'enumerable':!(_0x7d8dff=__getOwnPropDesc(_0x3580e7,_0xe0c7bb))||_0x7d8dff[_0xe0a7e4(0x24a)]});}return _0x1a2c22;},__toESM=(_0x31fb0e,_0x3dc2e1,_0x21fd50)=>(_0x21fd50=_0x31fb0e!=null?__create(__getProtoOf(_0x31fb0e)):{},__copyProps(_0x3dc2e1||!_0x31fb0e||!_0x31fb0e[a0_0x51353a(0x280)]?__defProp(_0x21fd50,a0_0x51353a(0x21d),{'value':_0x31fb0e,'enumerable':!![]}):_0x21fd50,_0x31fb0e)),__toCommonJS=_0x177f6=>__copyProps(__defProp({},'__esModule',{'value':!![]}),_0x177f6),index_exports={};__export(index_exports,{'Agent':()=>agent_exports,'Colors':()=>colors_exports,'Hash':()=>hash_exports,'IOF':()=>iof_exports,'Logger':()=>logger_exports,'MimeType':()=>mimeType_exports,'Terminal':()=>terminal_exports,'Time':()=>time_exports,'Tools':()=>tools_exports}),module[a0_0x51353a(0x254)]=__toCommonJS(index_exports);var agent_exports={};__export(agent_exports,{'AiAgent':()=>AiAgent});var logger_exports={};__export(logger_exports,{'Logger':()=>Logger});var colors_exports={};__export(colors_exports,{'terminalColors':()=>terminalColors});var terminalColors={'reset':a0_0x51353a(0x273),'bright':a0_0x51353a(0x2de),'dim':a0_0x51353a(0x25a),'underscore':a0_0x51353a(0x2f1),'blink':'\x1b[5m','reverse':'\x1b[7m','hidden':a0_0x51353a(0x287),'BLK':'\x1b[30m','R':a0_0x51353a(0x251),'G':a0_0x51353a(0x2d3),'Y':a0_0x51353a(0x250),'B':a0_0x51353a(0x2df),'M':a0_0x51353a(0x1fa),'C':'\x1b[36m','W':a0_0x51353a(0x2e9),'BBLK':a0_0x51353a(0x2c3),'BR':a0_0x51353a(0x261),'BG':a0_0x51353a(0x26d),'BY':a0_0x51353a(0x2ed),'BB':'\x1b[44m','BM':a0_0x51353a(0x201),'BC':a0_0x51353a(0x2c5),'BW':a0_0x51353a(0x207)},time_exports={};__export(time_exports,{'Time':()=>Time});var Time=class _Time{static[a0_0x51353a(0x2a9)](_0x48ad45,_0x2705ea){const _0x4cf792=a0_0x51353a,_0x4233a9=new Intl[(_0x4cf792(0x1d7))](_0x4cf792(0x1e3),{'timeZone':_0x2705ea,'year':_0x4cf792(0x1dd),'month':_0x4cf792(0x1f3),'day':'2-digit','hour':_0x4cf792(0x1f3),'minute':'2-digit','second':_0x4cf792(0x1f3),'hour12':![]}),_0x502c62=_0x4233a9[_0x4cf792(0x2eb)](_0x48ad45),_0x5e5c2d={};return _0x502c62[_0x4cf792(0x257)](({type:_0x49933c,value:_0x290dba})=>{_0x5e5c2d[_0x49933c]=_0x290dba;}),_0x5e5c2d;}static['formatDateString'](_0x1c12a7){const _0x4b6ea4=a0_0x51353a;return _0x1c12a7[_0x4b6ea4(0x2b4)]+'-'+_0x1c12a7[_0x4b6ea4(0x269)]+'-'+_0x1c12a7[_0x4b6ea4(0x238)]+'T'+_0x1c12a7[_0x4b6ea4(0x237)]+':'+_0x1c12a7['minute']+':'+_0x1c12a7[_0x4b6ea4(0x259)]+'Z';}static['logFormat'](_0x13b7a0){const _0x2ad140=a0_0x51353a;return _0x13b7a0[_0x2ad140(0x238)]+'/'+_0x13b7a0[_0x2ad140(0x269)]+'/'+_0x13b7a0[_0x2ad140(0x2b4)]+':'+_0x13b7a0[_0x2ad140(0x237)]+':'+_0x13b7a0['minute']+':'+_0x13b7a0[_0x2ad140(0x259)];}static[a0_0x51353a(0x2e0)](_0x38024c,_0x72513d){const _0x3c793c=a0_0x51353a,_0x188eb1=_Time[_0x3c793c(0x2a9)](_0x38024c,_0x72513d);return _0x188eb1[_0x3c793c(0x238)]+'/'+_0x188eb1[_0x3c793c(0x269)]+'/'+_0x188eb1['year']+'\x20'+_0x188eb1[_0x3c793c(0x237)]+':'+_0x188eb1['minute']+':'+_0x188eb1['second'];}static[a0_0x51353a(0x203)](){const _0x5d3aff=a0_0x51353a,_0x2ea070=new Date(),_0x4a945e=_Time['formatDateToParts'](_0x2ea070,_0x5d3aff(0x268)),_0x1d1870=_Time[_0x5d3aff(0x229)](_0x4a945e);return new Date(_0x1d1870);}static['getCurrentTimeToString'](){const _0x1f6f75=a0_0x51353a,_0x12d7b5=new Date(),_0x49376e=_Time[_0x1f6f75(0x2a9)](_0x12d7b5,_0x1f6f75(0x268));return _Time['formatDateString'](_0x49376e);}static[a0_0x51353a(0x29d)](){const _0x34227f=a0_0x51353a,_0x398aa4=new Date();return _Time[_0x34227f(0x2e0)](_0x398aa4,_0x34227f(0x268));}static[a0_0x51353a(0x2f0)](){const _0x5b7a1a=a0_0x51353a,_0x11735d=new Date(),_0x390a3=_Time[_0x5b7a1a(0x2a9)](_0x11735d,'Asia/Jakarta');return _Time[_0x5b7a1a(0x23c)](_0x390a3);}},Logger=class{static[a0_0x51353a(0x1d9)](_0x2042c0,_0x3c7ef4,_0x48fef3){const _0x47b3dc=a0_0x51353a,_0x27e987={'DEBUG':terminalColors['M'],'WARN':terminalColors['BY'],'ERROR':terminalColors['R'],'INFO':terminalColors['B'],'SUCCESS':terminalColors['G']},_0x1ce377=_0x27e987[_0x2042c0]||terminalColors[_0x47b3dc(0x2b7)],_0x4ed5fb=Time[_0x47b3dc(0x2f0)](),_0x447342=_0x48fef3?_0x47b3dc(0x2a7)+_0x48fef3:'',_0x2d409f=_0x2042c0===_0x47b3dc(0x2b0)||_0x2042c0==='WARN'?console[_0x47b3dc(0x1d9)]:_0x2042c0===_0x47b3dc(0x26a)?console[_0x47b3dc(0x223)]:console[_0x47b3dc(0x1d9)];_0x2d409f(terminalColors[_0x47b3dc(0x263)]+'['+_0x4ed5fb+']'+terminalColors[_0x47b3dc(0x2b7)]+'\x20'+_0x1ce377+'['+_0x2042c0+']'+terminalColors[_0x47b3dc(0x2b7)]+'\x20'+_0x447342+':\x20'+_0x3c7ef4);}static[a0_0x51353a(0x1f7)](_0x40bcf0,_0x1f18fb){const _0x427616=a0_0x51353a;this[_0x427616(0x1d9)]('SUCCESS',_0x40bcf0,_0x1f18fb);}static[a0_0x51353a(0x1da)](_0x8e14e2,_0x40498f){const _0x567181=a0_0x51353a;this[_0x567181(0x1d9)]('ERROR',_0x8e14e2,_0x40498f);}static[a0_0x51353a(0x233)](_0x576654,_0x4bfb20){const _0xcee1b3=a0_0x51353a;this[_0xcee1b3(0x1d9)](_0xcee1b3(0x200),_0x576654,_0x4bfb20);}static['info'](_0x1474b1,_0xddc438){const _0x177cce=a0_0x51353a;this[_0x177cce(0x1d9)](_0x177cce(0x26a),_0x1474b1,_0xddc438);}static[a0_0x51353a(0x27f)](_0x12d8e1,_0x48c251){const _0x5d7a8e=a0_0x51353a;this['log'](_0x5d7a8e(0x22b),_0x12d8e1,_0x48c251);}static[a0_0x51353a(0x2e6)](_0x37b596,_0x375ed0,_0x4d04e4){const _0xa5ffed=a0_0x51353a,_0x38b658=_0x4d04e4?_0xa5ffed(0x2a7)+_0x4d04e4:'',_0x583287=Time[_0xa5ffed(0x2f0)]();console[_0xa5ffed(0x1d9)](terminalColors[_0xa5ffed(0x263)]+'['+_0x583287+']'+terminalColors[_0xa5ffed(0x2b7)]+'\x20'+terminalColors['C']+'['+_0x37b596+']'+terminalColors[_0xa5ffed(0x2b7)]+'\x20'+_0x38b658+':\x20'+_0x375ed0);}},import_openai=require(a0_0x51353a(0x258)),import_ai2=require('ai'),import_zod2=require(a0_0x51353a(0x260)),iof_exports={};__export(iof_exports,{'IOF':()=>IOF});var crypto=__toESM(require(a0_0x51353a(0x243))),path=__toESM(require(a0_0x51353a(0x2bf))),fs=__toESM(require('fs')),mimeType_exports={};__export(mimeType_exports,{'mimeType':()=>mimeType});function a0_0x551f(_0x103274,_0x5470eb){const _0x3aaaf2=a0_0x3aaa();return a0_0x551f=function(_0x551f05,_0x536715){_0x551f05=_0x551f05-0x1d5;let _0x51ed3c=_0x3aaaf2[_0x551f05];return _0x51ed3c;},a0_0x551f(_0x103274,_0x5470eb);}function mimeType(_0x3acfa5){const _0x432135=a0_0x51353a,_0x54edac=_0x3acfa5[_0x432135(0x2c0)]('.')['pop']();switch(_0x54edac){case _0x432135(0x22f):case _0x432135(0x29f):case'm4b':case _0x432135(0x28d):case'm4r':case _0x432135(0x1f9):case _0x432135(0x228):case _0x432135(0x20b):case _0x432135(0x2a2):case'mp2':case _0x432135(0x224):case _0x432135(0x299):case _0x432135(0x2ce):case'tts':case _0x432135(0x206):case _0x432135(0x1fb):case _0x432135(0x234):return'video/mpeg';case _0x432135(0x1d6):return _0x432135(0x2dc);case _0x432135(0x1fe):return _0x432135(0x293);case _0x432135(0x27a):return _0x432135(0x2ea);case'avi':return _0x432135(0x28a);case _0x432135(0x2e2):return _0x432135(0x1d8);case'wmv':return _0x432135(0x285);case _0x432135(0x2d8):return _0x432135(0x27c);case'm4v':return _0x432135(0x1e7);case _0x432135(0x275):return _0x432135(0x2ac);case'wav':return'audio/wav';case'ogg':return'audio/ogg';case _0x432135(0x2b3):return _0x432135(0x21b);case _0x432135(0x232):return _0x432135(0x2be);case _0x432135(0x28e):return _0x432135(0x276);case _0x432135(0x2b1):case'jpeg':return _0x432135(0x20e);case _0x432135(0x244):return _0x432135(0x286);case _0x432135(0x1e8):return _0x432135(0x28f);case _0x432135(0x295):return _0x432135(0x25c);case _0x432135(0x248):return _0x432135(0x214);case _0x432135(0x1f0):return _0x432135(0x1ea);case'ico':return _0x432135(0x2bb);case _0x432135(0x230):return _0x432135(0x235);case _0x432135(0x208):return'image/vnd.adobe.photoshop';case'ai':return _0x432135(0x29e);case _0x432135(0x27e):return _0x432135(0x29e);case _0x432135(0x2ba):return'application/x-indesign';case'raw':return _0x432135(0x27d);case _0x432135(0x2d0):return _0x432135(0x279);case _0x432135(0x296):return _0x432135(0x27b);case _0x432135(0x1f2):return _0x432135(0x264);case _0x432135(0x2bc):return _0x432135(0x24d);case _0x432135(0x2a5):return'image/x-pentax-pef';case _0x432135(0x29b):return _0x432135(0x247);case _0x432135(0x2c6):return _0x432135(0x2dd);case _0x432135(0x22e):return'image/x-sigma-x3f';case'cr3':return _0x432135(0x2d7);case _0x432135(0x2d2):return _0x432135(0x2b5);case _0x432135(0x289):return'image/heif';case'avif':return _0x432135(0x278);case _0x432135(0x253):return _0x432135(0x290);case _0x432135(0x26c):return _0x432135(0x209);case _0x432135(0x2d4):return _0x432135(0x291);case'css':return _0x432135(0x2a0);case'js':return _0x432135(0x2bd);case _0x432135(0x218):return _0x432135(0x2cb);case'xml':return _0x432135(0x1f6);case _0x432135(0x1ed):return _0x432135(0x26f);case'rar':return'application/x-rar-compressed';case'7z':return _0x432135(0x2a6);default:return _0x432135(0x204);}}var IOF=class _IOF{static[a0_0x51353a(0x298)](_0xa4e820){const _0x2a32b0=a0_0x51353a;try{!fs['existsSync'](_0xa4e820)&&(Logger['info']('Creating\x20directory:\x20'+_0xa4e820),fs[_0x2a32b0(0x2b8)](_0xa4e820,{'recursive':!![]}));}catch(_0x2c3006){throw new Error(_0x2a32b0(0x283)+_0xa4e820+_0x2a32b0(0x227)+(_0x2c3006 instanceof Error?_0x2c3006[_0x2a32b0(0x225)]:String(_0x2c3006)));}}static[a0_0x51353a(0x29c)](_0x2b6a4f){const _0x1cc0cb=a0_0x51353a;if(!Buffer[_0x1cc0cb(0x2f2)](_0x2b6a4f))throw new Error(_0x1cc0cb(0x226));if(_0x2b6a4f[_0x1cc0cb(0x2d6)]===0x0)throw new Error(_0x1cc0cb(0x24c));return crypto[_0x1cc0cb(0x2ec)](_0x1cc0cb(0x220))[_0x1cc0cb(0x292)](_0x2b6a4f)[_0x1cc0cb(0x1f1)](_0x1cc0cb(0x2c4));}static['calculateSizeByBuffer'](_0x8d73b2){const _0x3fd200=a0_0x51353a;if(!Buffer[_0x3fd200(0x2f2)](_0x8d73b2))throw new Error(_0x3fd200(0x226));if(_0x8d73b2['length']===0x0)throw new Error(_0x3fd200(0x24c));return Buffer[_0x3fd200(0x262)](_0x8d73b2);}async[a0_0x51353a(0x21f)](_0x36717d){const _0x3d3aee=a0_0x51353a,_0x361333=_IOF[_0x3d3aee(0x29c)](Buffer[_0x3d3aee(0x2e8)](_0x36717d['file'])),_0x268f15=_IOF[_0x3d3aee(0x236)](Buffer['from'](_0x36717d[_0x3d3aee(0x2ca)])),_0x1ca9d1=mimeType(_0x36717d['name']);try{const _0xbf2142=path[_0x3d3aee(0x2c9)](process[_0x3d3aee(0x1e1)](),_0x36717d[_0x3d3aee(0x2bf)],_0x36717d[_0x3d3aee(0x205)]),_0x33bb21=path[_0x3d3aee(0x246)](_0xbf2142);return _IOF[_0x3d3aee(0x298)](_0x33bb21),await fs[_0x3d3aee(0x1dc)][_0x3d3aee(0x2c7)](_0xbf2142,_0x36717d[_0x3d3aee(0x2ca)]),{'filename':_0x36717d[_0x3d3aee(0x205)],'fileuri':_0xbf2142,'filehash':_0x361333,'filesize':_0x268f15,'filetype':_0x1ca9d1};}catch(_0x18bdcb){throw new Error('Failed\x20to\x20set\x20file\x20location:\x20'+(_0x18bdcb instanceof Error?_0x18bdcb[_0x3d3aee(0x225)]:String(_0x18bdcb)));}}static async['downloadFile'](_0x4f63e3){const _0x1a8c79=a0_0x51353a;try{const _0x24a77b=await fetch(_0x4f63e3[_0x1a8c79(0x215)]),_0x3770e7=await _0x24a77b[_0x1a8c79(0x1ef)](),_0x24b84e=path['basename'](_0x4f63e3['fileuri']),_0x234950=path[_0x1a8c79(0x2c9)](_0x4f63e3[_0x1a8c79(0x240)],_0x24b84e);return fs['writeFileSync'](_0x234950,Buffer[_0x1a8c79(0x2e8)](_0x3770e7)),{'filename':_0x24b84e,'fileuri':_0x234950,'filehash':_IOF[_0x1a8c79(0x29c)](Buffer[_0x1a8c79(0x2e8)](_0x3770e7)),'filesize':_IOF['calculateSizeByBuffer'](Buffer[_0x1a8c79(0x2e8)](_0x3770e7)),'filetype':mimeType(_0x24b84e)};}catch(_0x1eab57){throw new Error('Failed\x20to\x20download\x20file:\x20'+_0x1eab57);}}static async[a0_0x51353a(0x2cf)](_0x5092fc){const _0x2a2fab=a0_0x51353a;try{const _0x295e3b=await fs['promises']['readFile'](_0x5092fc,'utf-8');return _0x295e3b;}catch(_0x17fa94){throw new Error(_0x2a2fab(0x2c8)+_0x5092fc);}}async[a0_0x51353a(0x23b)](_0x300697){const _0x530517=a0_0x51353a;try{const _0x44f163=mimeType(_0x300697),_0x43441c=await fs[_0x530517(0x1dc)][_0x530517(0x231)](_0x300697);return{'inlineData':{'data':Buffer[_0x530517(0x2e8)](_0x43441c)[_0x530517(0x222)](_0x530517(0x1e4)),'mimeType':_0x44f163}};}catch(_0x222a65){throw new Error(_0x530517(0x274)+_0x222a65);}}},import_google=require('@ai-sdk/google'),tools_exports={};__export(tools_exports,{'TaskHandler':()=>TaskHandler,'Tools':()=>Tools});var import_ai=require('ai'),import_zod=require('zod'),TaskHandler={'getWeather':(0x0,import_ai[a0_0x51353a(0x277)])({'description':a0_0x51353a(0x21a),'parameters':import_zod['z'][a0_0x51353a(0x266)]({'city':import_zod['z']['string']()[a0_0x51353a(0x256)](0x1,a0_0x51353a(0x255))[a0_0x51353a(0x242)]('Name\x20of\x20the\x20city\x20to\x20get\x20weather\x20information\x20for')}),'execute':async({city:_0x5496ce})=>await Tools[a0_0x51353a(0x1f5)]({'city':_0x5496ce})}),'getCurrentTime':(0x0,import_ai[a0_0x51353a(0x277)])({'description':a0_0x51353a(0x282),'parameters':import_zod['z'][a0_0x51353a(0x266)]({}),'execute':async()=>await Tools[a0_0x51353a(0x203)]()})},Tools=class{static async['getCurrentTime'](){const _0x5cd2bf=a0_0x51353a;return Logger['info']('Retrieving\x20current\x20time...'),Time[_0x5cd2bf(0x29d)]();}static async['getWeather']({city:_0x588eb0}){const _0xcc7929=a0_0x51353a;if(!_0x588eb0)throw new Error(_0xcc7929(0x24e));Logger['info'](_0xcc7929(0x2e4)+_0x588eb0);const _0xd01e6={'city':_0x588eb0,'temperature':_0xcc7929(0x2cc),'condition':'Sunny'};return _0xd01e6;}},AiAgent=class{[a0_0x51353a(0x22c)]=import_zod2['z'][a0_0x51353a(0x266)]({'agentUrl':import_zod2['z'][a0_0x51353a(0x1e0)]()[a0_0x51353a(0x256)](0x1,'Agent\x20URL\x20is\x20required'),'apiKey':import_zod2['z'][a0_0x51353a(0x1e0)]()[a0_0x51353a(0x256)](0x1,a0_0x51353a(0x2e5)),'systemPromptFile':import_zod2['z'][a0_0x51353a(0x1e0)]()['optional'](),'streamMethod':import_zod2['z']['enum'](['stream',a0_0x51353a(0x2ad)])['optional'](),'model':import_zod2['z']['union']([import_zod2['z']['string']()[a0_0x51353a(0x1db)](val=>val[a0_0x51353a(0x2d5)](a0_0x51353a(0x2e1)),{'message':a0_0x51353a(0x2e3)}),import_zod2['z'][a0_0x51353a(0x1e0)]()[a0_0x51353a(0x1db)](val=>val[a0_0x51353a(0x2d5)]('gemini-'),{'message':a0_0x51353a(0x1de)})])[a0_0x51353a(0x267)](),'saveSession':import_zod2['z']['boolean']()['optional'](),'tools':import_zod2['z'][a0_0x51353a(0x252)](import_zod2['z'][a0_0x51353a(0x241)]())['optional']()});['aiAgentUrl'];['apiKey'];[a0_0x51353a(0x2aa)];[a0_0x51353a(0x20f)]=a0_0x51353a(0x2ad);['model'];[a0_0x51353a(0x212)]={'getCurrentTime':TaskHandler[a0_0x51353a(0x203)]};constructor(_0xe98dfd){const _0x5a60a8=a0_0x51353a;try{const _0x5371dc=this[_0x5a60a8(0x22c)][_0x5a60a8(0x1e6)](_0xe98dfd);this[_0x5a60a8(0x1fd)]=_0x5371dc[_0x5a60a8(0x202)],this[_0x5a60a8(0x2ab)]=_0x5371dc[_0x5a60a8(0x2ab)],this[_0x5a60a8(0x2aa)]=_0x5371dc[_0x5a60a8(0x2aa)],this[_0x5a60a8(0x20f)]=_0x5371dc['streamMethod']||'text';if(!this['aiAgentUrl']||!this['apiKey'])throw new Error(_0x5a60a8(0x1f4));this[_0x5a60a8(0x271)]=this[_0x5a60a8(0x2da)]({'model':_0x5371dc['model']}),_0x5371dc[_0x5a60a8(0x26b)]&&(this[_0x5a60a8(0x212)]={'getCurrentTime':TaskHandler[_0x5a60a8(0x203)],..._0x5371dc['tools']});}catch(_0x3fc088){throw new Error(_0x5a60a8(0x2e7)+_0x3fc088);}}[a0_0x51353a(0x2da)]({model:_0x28fe89}){const _0x68e45e=a0_0x51353a;if(_0x28fe89?.[_0x68e45e(0x2d5)](_0x68e45e(0x23e))){const _0x1ecd16=(0x0,import_google[_0x68e45e(0x2a4)])({'apiKey':this['apiKey'],'baseURL':this[_0x68e45e(0x1fd)]});return _0x1ecd16(_0x28fe89);}else{if(_0x28fe89?.['startsWith'](_0x68e45e(0x2e1))){const _0x1747b0=(0x0,import_openai[_0x68e45e(0x284)])({'baseURL':this[_0x68e45e(0x1fd)],'apiKey':this['apiKey'],'compatibility':_0x68e45e(0x23a)});return _0x1747b0(_0x28fe89);}}const _0xeb663d=(0x0,import_openai[_0x68e45e(0x284)])({'baseURL':this['aiAgentUrl'],'apiKey':this[_0x68e45e(0x2ab)],'compatibility':'strict'});return _0xeb663d(_0x68e45e(0x25b));}async[a0_0x51353a(0x2d9)](){const _0x1e37d6=a0_0x51353a;if(!this['systemPromptFile'])return'';const _0x2b6f36=await IOF['readTextFile'](this[_0x1e37d6(0x2aa)]);if(!_0x2b6f36)throw new Error(_0x1e37d6(0x265));return _0x2b6f36;}async[a0_0x51353a(0x20d)](_0x4905ea){const _0x16043a=a0_0x51353a,_0x29680c=_0x16043a(0x20a)+(_0x4905ea[_0x16043a(0x21c)]||_0x4905ea[_0x16043a(0x205)]||'')+',\x20',_0x23bb60=_0x16043a(0x23f)+(_0x4905ea[_0x16043a(0x2c1)]||'')+_0x16043a(0x2ee);return _0x29680c+_0x23bb60;}async[a0_0x51353a(0x24b)]({messages:_0x1fb6c6,prompt:_0x25efcb}){const _0x267d13=a0_0x51353a;if(_0x25efcb&&typeof _0x25efcb!==_0x267d13(0x1e0))throw new Error(_0x267d13(0x297));if(_0x1fb6c6&&!Array[_0x267d13(0x23d)](_0x1fb6c6))throw new Error(_0x267d13(0x270));if(_0x25efcb)return await(0x0,import_ai2[_0x267d13(0x24b)])({'model':this[_0x267d13(0x271)],'system':await this['systemPrompt'](),'tools':Object['keys'](this['toolSet'])[_0x267d13(0x2d6)]>0x0?this[_0x267d13(0x212)]:void 0x0,'maxSteps':Object[_0x267d13(0x28b)](this['toolSet'])[_0x267d13(0x2d6)]>0x0?Number[_0x267d13(0x29a)]:void 0x0,'prompt':_0x25efcb});return await(0x0,import_ai2[_0x267d13(0x24b)])({'model':this[_0x267d13(0x271)],'system':await this[_0x267d13(0x2d9)](),'tools':Object[_0x267d13(0x28b)](this[_0x267d13(0x212)])[_0x267d13(0x2d6)]>0x0?this[_0x267d13(0x212)]:void 0x0,'maxSteps':Object[_0x267d13(0x28b)](this['toolSet'])[_0x267d13(0x2d6)]>0x0?Number[_0x267d13(0x29a)]:void 0x0,'messages':_0x1fb6c6});}async[a0_0x51353a(0x2ef)](_0x35f529){const _0x432dfc=a0_0x51353a;return(0x0,import_ai2['streamText'])({'model':this[_0x432dfc(0x271)],'system':await this['systemPrompt'](),'tools':Object[_0x432dfc(0x28b)](this[_0x432dfc(0x212)])[_0x432dfc(0x2d6)]>0x0?this[_0x432dfc(0x212)]:void 0x0,'maxSteps':Object[_0x432dfc(0x28b)](this['toolSet'])[_0x432dfc(0x2d6)]>0x0?Number[_0x432dfc(0x29a)]:void 0x0,'messages':_0x35f529});}async[a0_0x51353a(0x1e9)]({user:_0x2b765a,session:_0x49ae89,prompt:_0x1e7a76,media:_0x2f8f99}){const _0xf2edfd=a0_0x51353a;try{if(!_0x1e7a76||typeof _0x1e7a76!==_0xf2edfd(0x1e0))throw new Error(_0xf2edfd(0x2c2));if(_0x49ae89&&!Array[_0xf2edfd(0x23d)](_0x49ae89))throw new Error('Session\x20must\x20be\x20an\x20array\x20of\x20CoreMessage.');if(_0x49ae89&&_0x49ae89['length']>0x0){let _0x57221f=[];!_0x2f8f99||_0x2f8f99['inlineData']===''?_0x57221f=[..._0x49ae89,{'role':_0xf2edfd(0x221),'content':_0x1e7a76}]:_0x57221f=[..._0x49ae89,{'role':_0xf2edfd(0x221),'content':[{'type':_0xf2edfd(0x2ad),'text':_0x1e7a76},{'type':_0xf2edfd(0x2ca),'data':_0x2f8f99[_0xf2edfd(0x2b6)],'mimeType':_0x2f8f99[_0xf2edfd(0x216)]||_0xf2edfd(0x204)}]}];if(this[_0xf2edfd(0x20f)]===_0xf2edfd(0x1d5)){const _0x4a4cc3=await this['generateStream'](_0x57221f);return{'textStream':_0x4a4cc3['textStream'],'response':_0x4a4cc3[_0xf2edfd(0x28c)]};}const {text:_0x5a0575,response:_0x5af3b4}=await this[_0xf2edfd(0x24b)]({'messages':_0x57221f});return{'text':_0x5a0575,'response':_0x5af3b4};}const _0x3e97ce=_0x2b765a?await this['getUserInfo'](_0x2b765a):'',_0x4f47c0=_0x3e97ce+'\x20'+_0x1e7a76;if(this[_0xf2edfd(0x20f)]===_0xf2edfd(0x1d5)){const _0x2372bf=await this[_0xf2edfd(0x2ef)]([{'role':_0xf2edfd(0x221),'content':_0x4f47c0}]);return{'textStream':_0x2372bf['textStream'],'response':_0x2372bf['response']};}const {text:_0x34dde9,response:_0x534482}=await this[_0xf2edfd(0x24b)]({'prompt':_0x4f47c0});return{'text':_0x34dde9,'response':_0x534482};}catch(_0x40c784){if(_0x40c784 instanceof Error&&_0x40c784['message'][_0xf2edfd(0x1ff)](_0xf2edfd(0x1f8)))return Logger['warn'](_0xf2edfd(0x22d)),this[_0xf2edfd(0x271)]=this[_0xf2edfd(0x2da)]({'model':_0xf2edfd(0x26e)}),await this['startChat']({'user':_0x2b765a,'session':_0x49ae89,'prompt':_0x1e7a76});throw new Error('AI\x20Agent\x20test\x20chat\x20failed:\x20'+_0x40c784);}}},hash_exports={};__export(hash_exports,{'GenerateRandomString':()=>GenerateRandomString,'GenerateUUID':()=>GenerateUUID,'HashWithSHA256':()=>HashWithSHA256});var import_crypto=__toESM(require(a0_0x51353a(0x243)));function HashWithSHA256(_0x8b34fb){const _0x38f1bd=a0_0x51353a;return import_crypto[_0x38f1bd(0x21d)][_0x38f1bd(0x2ec)](_0x38f1bd(0x220))[_0x38f1bd(0x292)](_0x8b34fb)[_0x38f1bd(0x1f1)](_0x38f1bd(0x2c4));}function GenerateUUID(){const _0x372d4c=a0_0x51353a;return(0x0,import_crypto[_0x372d4c(0x2b9)])();}function GenerateRandomString(_0x432858){const _0x4f33dd=a0_0x51353a;return import_crypto[_0x4f33dd(0x21d)][_0x4f33dd(0x1ee)](_0x432858)[_0x4f33dd(0x222)](_0x4f33dd(0x2c4))[_0x4f33dd(0x249)](0x0,_0x432858);}var terminal_exports={};__export(terminal_exports,{'ClearTerminal':()=>ClearTerminal,'CloseTerminal':()=>CloseTerminal,'Help':()=>Help,'ParseEnvKeys':()=>ParseEnvKeys,'Question':()=>Question});var rl=__toESM(require('readline/promises')),import_dotenv=__toESM(require(a0_0x51353a(0x288)));import_dotenv[a0_0x51353a(0x21d)][a0_0x51353a(0x281)]();var terminal=rl[a0_0x51353a(0x2b2)]({'input':process[a0_0x51353a(0x1ec)],'output':process['stdout'],'terminal':!![],'completer':_0x50f59b=>{const _0x13afb1=a0_0x51353a,_0x4a6c83=[_0x13afb1(0x25f),_0x13afb1(0x2a8),_0x13afb1(0x22a)],_0x1c5c20=_0x4a6c83[_0x13afb1(0x20c)](_0x183b2a=>_0x183b2a[_0x13afb1(0x2d5)](_0x50f59b));return[_0x1c5c20[_0x13afb1(0x2d6)]?_0x1c5c20:_0x4a6c83,_0x50f59b];}});async function Question(_0x56b973){const _0x393e84=a0_0x51353a;return terminal[_0x393e84(0x2a1)](_0x56b973?_0x56b973+':\x20':':\x20');}async function CloseTerminal(){const _0x4367c7=a0_0x51353a;await terminal[_0x4367c7(0x2d1)](),process[_0x4367c7(0x2a8)](0x0);}async function ClearTerminal(){const _0x45f5e6=a0_0x51353a;return process[_0x45f5e6(0x2cd)][_0x45f5e6(0x239)]('\x1bc'),terminal[_0x45f5e6(0x25e)]();}async function Help(){const _0x3187cb=a0_0x51353a;return console['log'](_0x3187cb(0x1df)),terminal[_0x3187cb(0x25e)]();}function a0_0x3aaa(){const _0x3e27ef=['Messages\x20must\x20be\x20an\x20array\x20of\x20CoreMessage.','model','getOwnPropertyDescriptor','\x1b[0m','Failed\x20to\x20convert\x20file\x20to\x20generative\x20path:\x20','mp3','audio/alac','tool','image/avif','image/x-canon-cr2','mkv','image/x-nikon-nef','video/x-flv','image/x-raw','eps','debug','__esModule','config','Get\x20the\x20current\x20date\x20and\x20time\x20in\x20real-time.\x20This\x20tool\x20does\x20not\x20require\x20any\x20parameters.\x20It\x20returns\x20the\x20current\x20time\x20in\x20a\x20standard\x20format.\x20Use\x20this\x20tool\x20when\x20user\x20ask\x20you\x20for\x20current\x20time\x20or\x20date\x20or\x20anything\x20that\x20related\x20to\x20time.','Failed\x20to\x20create\x20directory\x20at\x20','createOpenAI','video/x-ms-wmv','image/png','\x1b[8m','dotenv','heif','video/x-msvideo','keys','response','m4p','alac','image/gif','application/pdf','text/html','update','video/3gpp','4371787cCDADW','bmp','nef','Prompt\x20must\x20be\x20a\x20string.','mkdir','m2ts','MAX_SAFE_INTEGER','arw','calculateHashByBuffer','getCurrentTimeToHumanReadable','application/postscript','m4a','text/css','question','mpv','3FgSiKJ','createGoogleGenerativeAI','pef','application/x-7z-compressed','funcName:\x20','exit','formatDateToParts','systemPromptFile','apiKey','audio/mpeg','text','10elmGNL','hasOwnProperty','ERROR','jpg','createInterface','aac','year','image/heic','inlineData','reset','mkdirSync','randomUUID','indd','image/x-icon','rw2','application/javascript','audio/flac','path','split','phone','Prompt\x20must\x20be\x20a\x20non-empty\x20string.','\x1b[40m','hex','\x1b[46m','dng','writeFile','Failed\x20to\x20read\x20file\x20at\x20','join','file','application/json','25Â°C','stdout','mts','readTextFile','cr2','close','heic','\x1b[32m','html','startsWith','length','image/x-canon-cr3','flv','systemPrompt','init','1187534oIsher','video/webm','image/x-adobe-dng','\x1b[1m','\x1b[34m','formatDateToHumanReadable','gpt-','mov','Invalid\x20OpenAI\x20model\x20ID','Retrieving\x20weather\x20for\x20city:\x20','API\x20key\x20is\x20required','custom','Invalid\x20configuration:\x20','from','\x1b[37m','video/x-matroska','formatToParts','createHash','\x1b[43m','.\x20\x0a','generateStream','getTimeToLogFormat','\x1b[4m','isBuffer','stream','webm','DateTimeFormat','video/quicktime','log','error','refine','promises','numeric','Invalid\x20Google\x20model\x20ID','\x0aAvailable\x20commands:\x0a\x20\x20-\x20help:\x20Show\x20this\x20help\x20message\x0a\x20\x20-\x20exit:\x20Exit\x20the\x20terminal\x0a\x20\x20-\x20clear:\x20Clear\x20the\x20terminal\x20screen\x0a\x20\x20','string','cwd','2921828lZDCXi','id-ID','base64','3073775Vhzisf','parse','video/x-m4v','gif','startChat','image/svg+xml','getPrototypeOf','stdin','zip','randomBytes','arrayBuffer','svg','digest','orf','2-digit','Agent\x20URL\x20and\x20API\x20key\x20are\x20required.','getWeather','application/xml','success','Rate\x20limit','mpeg','\x1b[35m','tsv','getOwnPropertyNames','aiAgentUrl','3gp','includes','WARN','\x1b[45m','agentUrl','getCurrentTime','application/octet-stream','name','m2t','\x1b[47m','psd','text/plain','Hai\x20My\x20Username\x20Is:\x20','mpe','filter','getUserInfo','image/jpeg','streamMethod','20674773ynAbGI','call','toolSet','3160312AUAgFl','image/webp','fileuri','mimeType','push','json','6ugjGgA','Get\x20weather\x20information\x20for\x20a\x20specified\x20city.','audio/aac','username','default','create','setFileLocation','sha256','user','toString','info','m2v','message','Input\x20must\x20be\x20a\x20Buffer',':\x20\x20','mpg','formatDateString','clear','DEBUG','aiAgentSchema','Rate\x20limit\x20exceeded,\x20switching\x20model...','x3f','mp4','tiff','readFile','flac','warn','tsa','image/tiff','calculateSizeByBuffer','hour','day','write','strict','fileToGenerativePath','logFormat','isArray','gemini-','My\x20Phone\x20Number\x20Is:\x20','saveTo','any','describe','crypto','png','env','dirname','image/x-sony-arw','webp','slice','enumerable','generateText','Buffer\x20cannot\x20be\x20empty','image/x-panasonic-rw2','City\x20must\x20be\x20provided.','277203pWNsPK','\x1b[33m','\x1b[31m','record','pdf','exports','City\x20is\x20required','min','forEach','@ai-sdk/openai','second','\x1b[2m','gpt-4o','image/bmp','defineProperty','prompt','help','zod','\x1b[41m','byteLength','dim','image/x-olympus-orf','System\x20prompt\x20file\x20not\x20found\x20or\x20empty.','object','optional','Asia/Jakarta','month','INFO','tools','txt','\x1b[42m','gemini-1.5-flash','application/zip'];a0_0x3aaa=function(){return _0x3e27ef;};return a0_0x3aaa();}function ParseEnvKeys(_0x6254da){const _0x40cdba=a0_0x51353a,_0x14d682=Object[_0x40cdba(0x28b)](process[_0x40cdba(0x245)])[_0x40cdba(0x20c)](_0x24b389=>_0x24b389['startsWith'](_0x6254da)),_0xa46c00=[],_0x1d3c39=[];return _0x14d682[_0x40cdba(0x257)](_0x19c1a4=>{const _0x340aba=_0x40cdba;process[_0x340aba(0x245)][_0x19c1a4]&&(_0xa46c00[_0x340aba(0x217)](_0x19c1a4),_0x1d3c39[_0x340aba(0x217)](process[_0x340aba(0x245)][_0x19c1a4]));}),{'keys':_0xa46c00,'values':_0x1d3c39};}0x0&&(module[a0_0x51353a(0x254)]={'Agent':Agent,'Colors':Colors,'Hash':Hash,'IOF':IOF,'Logger':Logger,'MimeType':MimeType,'Terminal':Terminal,'Time':Time,'Tools':Tools});