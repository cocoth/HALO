'use strict';const a0_0x49ea07=a0_0x2626;(function(_0x77d882,_0xbe08c9){const _0x241bbb=a0_0x2626,_0x116aad=_0x77d882();while(!![]){try{const _0x5526d2=-parseInt(_0x241bbb(0x204))/0x1*(parseInt(_0x241bbb(0x20e))/0x2)+parseInt(_0x241bbb(0x152))/0x3+-parseInt(_0x241bbb(0x1a7))/0x4+parseInt(_0x241bbb(0x18f))/0x5+-parseInt(_0x241bbb(0x191))/0x6*(parseInt(_0x241bbb(0x1fc))/0x7)+-parseInt(_0x241bbb(0x246))/0x8+parseInt(_0x241bbb(0x151))/0x9;if(_0x5526d2===_0xbe08c9)break;else _0x116aad['push'](_0x116aad['shift']());}catch(_0x3e87c6){_0x116aad['push'](_0x116aad['shift']());}}}(a0_0x1724,0xc3951));var __create=Object['create'],__defProp=Object[a0_0x49ea07(0x21d)],__getOwnPropDesc=Object[a0_0x49ea07(0x154)],__getOwnPropNames=Object[a0_0x49ea07(0x1f7)],__getProtoOf=Object[a0_0x49ea07(0x1e7)],__hasOwnProp=Object[a0_0x49ea07(0x1e9)][a0_0x49ea07(0x158)],__defNormalProp=(_0x3f2f36,_0x49d6b8,_0x2d1c45)=>_0x49d6b8 in _0x3f2f36?__defProp(_0x3f2f36,_0x49d6b8,{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x2d1c45}):_0x3f2f36[_0x49d6b8]=_0x2d1c45,__export=(_0x52230f,_0x157c1d)=>{for(var _0x28d8a9 in _0x157c1d)__defProp(_0x52230f,_0x28d8a9,{'get':_0x157c1d[_0x28d8a9],'enumerable':!![]});},__copyProps=(_0x48e02c,_0x1f31e3,_0x24b317,_0xdd286)=>{const _0x283c38=a0_0x49ea07;if(_0x1f31e3&&typeof _0x1f31e3===_0x283c38(0x216)||typeof _0x1f31e3==='function'){for(let _0x4f8a79 of __getOwnPropNames(_0x1f31e3))if(!__hasOwnProp['call'](_0x48e02c,_0x4f8a79)&&_0x4f8a79!==_0x24b317)__defProp(_0x48e02c,_0x4f8a79,{'get':()=>_0x1f31e3[_0x4f8a79],'enumerable':!(_0xdd286=__getOwnPropDesc(_0x1f31e3,_0x4f8a79))||_0xdd286[_0x283c38(0x1a3)]});}return _0x48e02c;},__toESM=(_0x223656,_0x373558,_0x1605bb)=>(_0x1605bb=_0x223656!=null?__create(__getProtoOf(_0x223656)):{},__copyProps(_0x373558||!_0x223656||!_0x223656[a0_0x49ea07(0x175)]?__defProp(_0x1605bb,a0_0x49ea07(0x1bc),{'value':_0x223656,'enumerable':!![]}):_0x1605bb,_0x223656)),__toCommonJS=_0x530d34=>__copyProps(__defProp({},a0_0x49ea07(0x175),{'value':!![]}),_0x530d34),__publicField=(_0x8ad57a,_0x275a3a,_0x3c8497)=>__defNormalProp(_0x8ad57a,typeof _0x275a3a!==a0_0x49ea07(0x1cf)?_0x275a3a+'':_0x275a3a,_0x3c8497),index_exports={};__export(index_exports,{'Agent':()=>agent_exports,'Colors':()=>colors_exports,'Hash':()=>hash_exports,'IOF':()=>iof_exports,'Logger':()=>logger_exports,'MimeType':()=>mimeType_exports,'Terminal':()=>terminal_exports,'Time':()=>time_exports,'Tools':()=>tools_exports}),module['exports']=__toCommonJS(index_exports);var agent_exports={};__export(agent_exports,{'AiAgent':()=>AiAgent});var logger_exports={};__export(logger_exports,{'Logger':()=>Logger});function a0_0x2626(_0x341a88,_0x1c5b1d){const _0x1724a3=a0_0x1724();return a0_0x2626=function(_0x2626fe,_0xfc89db){_0x2626fe=_0x2626fe-0x14f;let _0x414846=_0x1724a3[_0x2626fe];return _0x414846;},a0_0x2626(_0x341a88,_0x1c5b1d);}var colors_exports={};__export(colors_exports,{'terminalColors':()=>terminalColors});function a0_0x1724(){const _0x416797=['model','user','My\x20Phone\x20Number\x20Is:\x20','day','3255660SVTiJp','Retrieving\x20weather\x20for\x20city:\x20','12354gYhxCV','application/x-rar-compressed','warn','image/gif','image/x-panasonic-rw2','username','tts','tsa','utf-8','textStream','calculateHashByBuffer','gemini-','audio/wav','application/octet-stream','readFile','\x1b[0m','image/x-icon','path','enumerable','Buffer\x20cannot\x20be\x20empty','exit','WARN','4356540nbnXzX','2-digit','tool','gif','\x1b[40m','City\x20is\x20required','any','debug','parse','application/postscript','existsSync','apiKey','text/plain','hex','MAX_SAFE_INTEGER','boolean','isArray','question','Get\x20the\x20current\x20date\x20and\x20time\x20in\x20real-time.\x20This\x20tool\x20does\x20not\x20require\x20any\x20parameters.\x20It\x20returns\x20the\x20current\x20time\x20in\x20a\x20standard\x20format.\x20Use\x20this\x20tool\x20when\x20user\x20ask\x20you\x20for\x20current\x20time\x20or\x20date\x20or\x20anything\x20that\x20related\x20to\x20time.','video/x-ms-wmv','eps','default','generateText','close','sha256','mkdirSync','error','mts','Rate\x20limit\x20exceeded,\x20switching\x20model...','Hai\x20My\x20Username\x20Is:\x20','ogg','createHash','keys','flac','help','toString','\x1b[33m','3gp','generateStream','\x1b[46m','symbol','writeFile','prompt','audio/alac','refine','mpg','Failed\x20to\x20create\x20directory\x20at\x20','dng','image/x-nikon-nef','fileToGenerativePath','record','\x1b[36m','logFormat','audio/ogg','Invalid\x20Google\x20model\x20ID','cwd','randomBytes','dim','tiff','webm','aiAgentUrl','image/x-canon-cr2','update','basename','getPrototypeOf','m2v','prototype','City\x20must\x20be\x20provided.','video/x-msvideo','\x0aAvailable\x20commands:\x0a\x20\x20-\x20help:\x20Show\x20this\x20help\x20message\x0a\x20\x20-\x20exit:\x20Exit\x20the\x20terminal\x0a\x20\x20-\x20clear:\x20Clear\x20the\x20terminal\x20screen\x0a\x20\x20','mp4','file','video/mpeg','custom','DateTimeFormat','\x1b[8m','text','gpt-','gpt-4o','hour','getOwnPropertyNames','Session\x20must\x20be\x20an\x20array\x20of\x20CoreMessage.','numeric','tsv','slice','7NTgbwB','image/x-pentax-pef','psd','from','includes','pef','stream','image/bmp','461iUqiZx','Failed\x20to\x20set\x20file\x20location:\x20','zip','Messages\x20must\x20be\x20an\x20array\x20of\x20CoreMessage.','startChat','log','success','video/x-matroska','fileuri','\x1b[45m','3722ziqFrv','html','m4b','image/x-sigma-x3f','Input\x20must\x20be\x20a\x20Buffer','tools','pop','min','object','inlineData','reset','image/x-canon-cr3','image/avif','m2ts','\x1b[31m','defineProperty','funcName:\x20','wav','video/quicktime','message','bmp','optional','Failed\x20to\x20convert\x20file\x20to\x20generative\x20path:\x20','mpe','json','\x1b[5m','jpeg','readTextFile','Prompt\x20must\x20be\x20a\x20non-empty\x20string.','\x1b[1m','randomUUID','getCurrentTime','webp','DEBUG','toolSet','application/xml','minute','ico','application/zip','image/x-raw','image/heif','describe','byteLength','avi','systemPrompt','env','calculateSizeByBuffer','Creating\x20directory:\x20','info','formatDateToParts','join','downloadFile','25Â°C','svg','crypto','digest','8400192pLgqJH','image/x-adobe-dng','promises','clear','createOpenAI','string','\x1b[32m','\x1b[43m','image/webp','application/pdf','arrayBuffer','streamText','image/svg+xml','image/x-olympus-orf','write','\x1b[30m','API\x20key\x20is\x20required','zod','getCurrentTimeToHumanReadable','getTimeToLogFormat','mpv','video/3gpp','formatToParts','AI\x20Agent\x20test\x20chat\x20failed:\x20','avif','getUserInfo','Asia/Jakarta','cr3','heif','gemini-1.5-flash','response','indd','heic','dotenv','16687602nLPAii','3884802adxSEM','filter','getOwnPropertyDescriptor','image/png','month','stdout','hasOwnProperty','m4p','config','id-ID','png','INFO','aiAgentSchema','length','year','m2t','second','x3f','@ai-sdk/openai','m4r','formatDateToHumanReadable','\x1b[47m','readline/promises','SUCCESS','dirname','strict','createGoogleGenerativeAI','Retrieving\x20current\x20time...','init','cr2','image/jpeg','union','css','name','m4v','__esModule','mpeg','application/javascript','startsWith','\x1b[4m','agentUrl','ERROR','Failed\x20to\x20read\x20file\x20at\x20','@ai-sdk/google','systemPromptFile','push','getCurrentTimeToString','forEach','formatDateString','orf','pdf','rw2','streamMethod','text/html','\x1b[2m','xml','arw'];a0_0x1724=function(){return _0x416797;};return a0_0x1724();}var terminalColors={'reset':a0_0x49ea07(0x1a0),'bright':a0_0x49ea07(0x22b),'dim':a0_0x49ea07(0x188),'underscore':a0_0x49ea07(0x179),'blink':a0_0x49ea07(0x227),'reverse':'\x1b[7m','hidden':a0_0x49ea07(0x1f2),'BLK':a0_0x49ea07(0x255),'R':a0_0x49ea07(0x21c),'G':a0_0x49ea07(0x24c),'Y':a0_0x49ea07(0x1cb),'B':'\x1b[34m','M':'\x1b[35m','C':a0_0x49ea07(0x1da),'W':'\x1b[37m','BBLK':a0_0x49ea07(0x1ab),'BR':'\x1b[41m','BG':'\x1b[42m','BY':a0_0x49ea07(0x24d),'BB':'\x1b[44m','BM':a0_0x49ea07(0x20d),'BC':a0_0x49ea07(0x1ce),'BW':a0_0x49ea07(0x167)},time_exports={};__export(time_exports,{'Time':()=>Time});var Time=class _Time{static['formatDateToParts'](_0x29ba92,_0xd17beb){const _0x3cd6b6=a0_0x49ea07,_0x214231=new Intl[(_0x3cd6b6(0x1f1))](_0x3cd6b6(0x15b),{'timeZone':_0xd17beb,'year':_0x3cd6b6(0x1f9),'month':'2-digit','day':_0x3cd6b6(0x1a8),'hour':_0x3cd6b6(0x1a8),'minute':_0x3cd6b6(0x1a8),'second':'2-digit','hour12':![]}),_0x1f421a=_0x214231[_0x3cd6b6(0x25c)](_0x29ba92),_0x50308e={};return _0x1f421a[_0x3cd6b6(0x181)](({type:_0x56f5b1,value:_0x516cd0})=>{_0x50308e[_0x56f5b1]=_0x516cd0;}),_0x50308e;}static[a0_0x49ea07(0x182)](_0x16f656){const _0x3aab37=a0_0x49ea07;return _0x16f656[_0x3aab37(0x160)]+'-'+_0x16f656[_0x3aab37(0x156)]+'-'+_0x16f656[_0x3aab37(0x18e)]+'T'+_0x16f656[_0x3aab37(0x1f6)]+':'+_0x16f656['minute']+':'+_0x16f656[_0x3aab37(0x162)]+'Z';}static['logFormat'](_0x1feec1){const _0x35c34e=a0_0x49ea07;return _0x1feec1[_0x35c34e(0x18e)]+'/'+_0x1feec1['month']+'/'+_0x1feec1['year']+':'+_0x1feec1[_0x35c34e(0x1f6)]+':'+_0x1feec1[_0x35c34e(0x232)]+':'+_0x1feec1[_0x35c34e(0x162)];}static[a0_0x49ea07(0x166)](_0x1f49e3,_0x257876){const _0xba451d=a0_0x49ea07,_0xaf9f15=_Time[_0xba451d(0x23f)](_0x1f49e3,_0x257876);return _0xaf9f15['day']+'/'+_0xaf9f15[_0xba451d(0x156)]+'/'+_0xaf9f15['year']+'\x20'+_0xaf9f15['hour']+':'+_0xaf9f15['minute']+':'+_0xaf9f15[_0xba451d(0x162)];}static[a0_0x49ea07(0x22d)](){const _0x1d0dee=a0_0x49ea07,_0x585941=new Date(),_0x1d8314=_Time[_0x1d0dee(0x23f)](_0x585941,'Asia/Jakarta'),_0x33a314=_Time['formatDateString'](_0x1d8314);return new Date(_0x33a314);}static[a0_0x49ea07(0x180)](){const _0x39acc6=a0_0x49ea07,_0xc95089=new Date(),_0x2f6b52=_Time[_0x39acc6(0x23f)](_0xc95089,_0x39acc6(0x260));return _Time[_0x39acc6(0x182)](_0x2f6b52);}static[a0_0x49ea07(0x258)](){const _0x2aa125=a0_0x49ea07,_0x4f7d43=new Date();return _Time[_0x2aa125(0x166)](_0x4f7d43,_0x2aa125(0x260));}static[a0_0x49ea07(0x259)](){const _0x27eb7a=a0_0x49ea07,_0x55871e=new Date(),_0x24d0b5=_Time[_0x27eb7a(0x23f)](_0x55871e,_0x27eb7a(0x260));return _Time[_0x27eb7a(0x1db)](_0x24d0b5);}},Logger=class{static[a0_0x49ea07(0x209)](_0x58e971,_0x348529,_0x35abd6){const _0x9d1041=a0_0x49ea07,_0x4fcdd0={'DEBUG':terminalColors['M'],'WARN':terminalColors['BY'],'ERROR':terminalColors['R'],'INFO':terminalColors['B'],'SUCCESS':terminalColors['G']},_0x4e6d8=_0x4fcdd0[_0x58e971]||terminalColors[_0x9d1041(0x218)],_0x4416a9=Time[_0x9d1041(0x259)](),_0x45e61c=_0x35abd6?_0x9d1041(0x21e)+_0x35abd6:'',_0x1eefb0=_0x58e971===_0x9d1041(0x17b)||_0x58e971===_0x9d1041(0x1a6)?console[_0x9d1041(0x209)]:_0x58e971===_0x9d1041(0x15d)?console['info']:console[_0x9d1041(0x209)];_0x1eefb0(terminalColors['dim']+'['+_0x4416a9+']'+terminalColors[_0x9d1041(0x218)]+'\x20'+_0x4e6d8+'['+_0x58e971+']'+terminalColors[_0x9d1041(0x218)]+'\x20'+_0x45e61c+':\x20'+_0x348529);}static[a0_0x49ea07(0x20a)](_0x41874c,_0x26e3b9){const _0x51d813=a0_0x49ea07;this[_0x51d813(0x209)](_0x51d813(0x169),_0x41874c,_0x26e3b9);}static[a0_0x49ea07(0x1c1)](_0x5845f5,_0x2b490d){const _0x1aae6b=a0_0x49ea07;this[_0x1aae6b(0x209)](_0x1aae6b(0x17b),_0x5845f5,_0x2b490d);}static[a0_0x49ea07(0x193)](_0x357c04,_0x4f0172){const _0x5f2b18=a0_0x49ea07;this[_0x5f2b18(0x209)]('WARN',_0x357c04,_0x4f0172);}static[a0_0x49ea07(0x23e)](_0x534c93,_0x4e4075){const _0x4132c3=a0_0x49ea07;this[_0x4132c3(0x209)](_0x4132c3(0x15d),_0x534c93,_0x4e4075);}static[a0_0x49ea07(0x1ae)](_0x3d6b7c,_0xcbe4d){const _0x358458=a0_0x49ea07;this[_0x358458(0x209)](_0x358458(0x22f),_0x3d6b7c,_0xcbe4d);}static[a0_0x49ea07(0x1f0)](_0x505b87,_0xa3a56f,_0x8ae833){const _0x5ee402=a0_0x49ea07,_0x512c33=_0x8ae833?_0x5ee402(0x21e)+_0x8ae833:'',_0x4ce37a=Time['getTimeToLogFormat']();console[_0x5ee402(0x209)](terminalColors[_0x5ee402(0x1e0)]+'['+_0x4ce37a+']'+terminalColors[_0x5ee402(0x218)]+'\x20'+terminalColors['C']+'['+_0x505b87+']'+terminalColors[_0x5ee402(0x218)]+'\x20'+_0x512c33+':\x20'+_0xa3a56f);}},import_openai=require(a0_0x49ea07(0x164)),import_ai2=require('ai'),import_zod2=require(a0_0x49ea07(0x257)),iof_exports={};__export(iof_exports,{'IOF':()=>IOF});var crypto=__toESM(require(a0_0x49ea07(0x244))),path=__toESM(require(a0_0x49ea07(0x1a2))),fs=__toESM(require('fs')),mimeType_exports={};__export(mimeType_exports,{'mimeType':()=>mimeType});function mimeType(_0x4c605d){const _0x41532f=a0_0x49ea07,_0x37df07=_0x4c605d['split']('.')[_0x41532f(0x214)]();switch(_0x37df07){case _0x41532f(0x1ed):case'm4a':case _0x41532f(0x210):case _0x41532f(0x159):case _0x41532f(0x165):case _0x41532f(0x176):case _0x41532f(0x1d4):case _0x41532f(0x225):case _0x41532f(0x25a):case'mp2':case _0x41532f(0x1e8):case _0x41532f(0x21b):case _0x41532f(0x1c2):case _0x41532f(0x197):case _0x41532f(0x161):case _0x41532f(0x1fa):case _0x41532f(0x198):return _0x41532f(0x1ef);case _0x41532f(0x1e2):return'video/webm';case _0x41532f(0x1cc):return _0x41532f(0x25b);case'mkv':return _0x41532f(0x20b);case _0x41532f(0x239):return _0x41532f(0x1eb);case'mov':return _0x41532f(0x220);case'wmv':return _0x41532f(0x1ba);case'flv':return'video/x-flv';case _0x41532f(0x174):return'video/x-m4v';case'mp3':return'audio/mpeg';case _0x41532f(0x21f):return _0x41532f(0x19d);case _0x41532f(0x1c5):return _0x41532f(0x1dc);case'aac':return'audio/aac';case _0x41532f(0x1c8):return'audio/flac';case'alac':return _0x41532f(0x1d2);case'jpg':case _0x41532f(0x228):return _0x41532f(0x170);case _0x41532f(0x15c):return _0x41532f(0x155);case _0x41532f(0x1aa):return _0x41532f(0x194);case _0x41532f(0x222):return _0x41532f(0x203);case _0x41532f(0x22e):return _0x41532f(0x24e);case _0x41532f(0x243):return _0x41532f(0x252);case _0x41532f(0x233):return _0x41532f(0x1a1);case _0x41532f(0x1e1):return'image/tiff';case _0x41532f(0x1fe):return'image/vnd.adobe.photoshop';case'ai':return _0x41532f(0x1b0);case _0x41532f(0x1bb):return'application/postscript';case _0x41532f(0x265):return'application/x-indesign';case'raw':return _0x41532f(0x235);case _0x41532f(0x16f):return _0x41532f(0x1e4);case'nef':return _0x41532f(0x1d7);case _0x41532f(0x183):return _0x41532f(0x253);case _0x41532f(0x185):return _0x41532f(0x195);case _0x41532f(0x201):return _0x41532f(0x1fd);case _0x41532f(0x18a):return'image/x-sony-arw';case _0x41532f(0x1d6):return _0x41532f(0x247);case _0x41532f(0x163):return _0x41532f(0x211);case _0x41532f(0x261):return _0x41532f(0x219);case _0x41532f(0x14f):return'image/heic';case _0x41532f(0x262):return _0x41532f(0x236);case _0x41532f(0x25e):return _0x41532f(0x21a);case _0x41532f(0x184):return _0x41532f(0x24f);case'txt':return _0x41532f(0x1b3);case _0x41532f(0x20f):return _0x41532f(0x187);case _0x41532f(0x172):return'text/css';case'js':return _0x41532f(0x177);case _0x41532f(0x226):return'application/json';case _0x41532f(0x189):return _0x41532f(0x231);case _0x41532f(0x206):return _0x41532f(0x234);case'rar':return _0x41532f(0x192);case'7z':return'application/x-7z-compressed';default:return'application/octet-stream';}}var IOF=class _IOF{static['mkdir'](_0x9356c3){const _0x2b0d4a=a0_0x49ea07;try{!fs[_0x2b0d4a(0x1b1)](_0x9356c3)&&(Logger[_0x2b0d4a(0x23e)](_0x2b0d4a(0x23d)+_0x9356c3),fs[_0x2b0d4a(0x1c0)](_0x9356c3,{'recursive':!![]}));}catch(_0x67c9f7){throw new Error(_0x2b0d4a(0x1d5)+_0x9356c3+':\x20\x20'+(_0x67c9f7 instanceof Error?_0x67c9f7[_0x2b0d4a(0x221)]:String(_0x67c9f7)));}}static[a0_0x49ea07(0x19b)](_0x1f3fcc){const _0x55a5fd=a0_0x49ea07;if(!Buffer['isBuffer'](_0x1f3fcc))throw new Error(_0x55a5fd(0x212));if(_0x1f3fcc['length']===0x0)throw new Error(_0x55a5fd(0x1a4));return crypto[_0x55a5fd(0x1c6)](_0x55a5fd(0x1bf))[_0x55a5fd(0x1e5)](_0x1f3fcc)[_0x55a5fd(0x245)](_0x55a5fd(0x1b4));}static[a0_0x49ea07(0x23c)](_0x3809f8){const _0x41b618=a0_0x49ea07;if(!Buffer['isBuffer'](_0x3809f8))throw new Error(_0x41b618(0x212));if(_0x3809f8['length']===0x0)throw new Error(_0x41b618(0x1a4));return Buffer[_0x41b618(0x238)](_0x3809f8);}async['setFileLocation'](_0x165e4b){const _0x56e389=a0_0x49ea07,_0xdf311c=_IOF[_0x56e389(0x19b)](Buffer[_0x56e389(0x1ff)](_0x165e4b[_0x56e389(0x1ee)])),_0x1a4d75=_IOF[_0x56e389(0x23c)](Buffer['from'](_0x165e4b[_0x56e389(0x1ee)])),_0x35b5d7=mimeType(_0x165e4b[_0x56e389(0x173)]);try{const _0x5dbd1b=path[_0x56e389(0x240)](process[_0x56e389(0x1de)](),_0x165e4b['path'],_0x165e4b['name']),_0x2e1adf=path[_0x56e389(0x16a)](_0x5dbd1b);return _IOF['mkdir'](_0x2e1adf),await fs[_0x56e389(0x248)][_0x56e389(0x1d0)](_0x5dbd1b,_0x165e4b[_0x56e389(0x1ee)]),{'filename':_0x165e4b[_0x56e389(0x173)],'fileuri':_0x5dbd1b,'filehash':_0xdf311c,'filesize':_0x1a4d75,'filetype':_0x35b5d7};}catch(_0x2a9e12){throw new Error(_0x56e389(0x205)+(_0x2a9e12 instanceof Error?_0x2a9e12[_0x56e389(0x221)]:String(_0x2a9e12)));}}static async[a0_0x49ea07(0x241)](_0xb47333){const _0x1ebbb1=a0_0x49ea07;try{const _0x1dbbe3=await fetch(_0xb47333[_0x1ebbb1(0x20c)]),_0x4ad24a=await _0x1dbbe3[_0x1ebbb1(0x250)](),_0x1b0f15=path[_0x1ebbb1(0x1e6)](_0xb47333[_0x1ebbb1(0x20c)]),_0x50a2bb=path[_0x1ebbb1(0x240)](_0xb47333['saveTo'],_0x1b0f15);return fs['writeFileSync'](_0x50a2bb,Buffer[_0x1ebbb1(0x1ff)](_0x4ad24a)),{'filename':_0x1b0f15,'fileuri':_0x50a2bb,'filehash':_IOF[_0x1ebbb1(0x19b)](Buffer[_0x1ebbb1(0x1ff)](_0x4ad24a)),'filesize':_IOF[_0x1ebbb1(0x23c)](Buffer[_0x1ebbb1(0x1ff)](_0x4ad24a)),'filetype':mimeType(_0x1b0f15)};}catch(_0x33caaf){throw new Error('Failed\x20to\x20download\x20file:\x20'+_0x33caaf);}}static async[a0_0x49ea07(0x229)](_0x56aadb){const _0xaabb2c=a0_0x49ea07;try{const _0x123896=await fs['promises']['readFile'](_0x56aadb,_0xaabb2c(0x199));return _0x123896;}catch(_0x48230d){throw new Error(_0xaabb2c(0x17c)+_0x56aadb);}}async[a0_0x49ea07(0x1d8)](_0x5cd4c5){const _0x54e828=a0_0x49ea07;try{const _0x20b784=mimeType(_0x5cd4c5),_0x473d4c=await fs[_0x54e828(0x248)][_0x54e828(0x19f)](_0x5cd4c5);return{'inlineData':{'data':Buffer[_0x54e828(0x1ff)](_0x473d4c)[_0x54e828(0x1ca)]('base64'),'mimeType':_0x20b784}};}catch(_0x640e90){throw new Error(_0x54e828(0x224)+_0x640e90);}}},import_google=require(a0_0x49ea07(0x17d)),tools_exports={};__export(tools_exports,{'TaskHandler':()=>TaskHandler,'Tools':()=>Tools});var import_ai=require('ai'),import_zod=require(a0_0x49ea07(0x257)),TaskHandler={'getWeather':(0x0,import_ai[a0_0x49ea07(0x1a9)])({'description':'Get\x20weather\x20information\x20for\x20a\x20specified\x20city.','parameters':import_zod['z'][a0_0x49ea07(0x216)]({'city':import_zod['z'][a0_0x49ea07(0x24b)]()[a0_0x49ea07(0x215)](0x1,a0_0x49ea07(0x1ac))[a0_0x49ea07(0x237)]('Name\x20of\x20the\x20city\x20to\x20get\x20weather\x20information\x20for')}),'execute':async({city:_0x1d9c50})=>await Tools['getWeather']({'city':_0x1d9c50})}),'getCurrentTime':(0x0,import_ai[a0_0x49ea07(0x1a9)])({'description':a0_0x49ea07(0x1b9),'parameters':import_zod['z'][a0_0x49ea07(0x216)]({}),'execute':async()=>await Tools[a0_0x49ea07(0x22d)]()})},Tools=class{static async[a0_0x49ea07(0x22d)](){const _0x376589=a0_0x49ea07;return Logger['info'](_0x376589(0x16d)),Time[_0x376589(0x258)]();}static async['getWeather']({city:_0x108999}){const _0x58779a=a0_0x49ea07;if(!_0x108999)throw new Error(_0x58779a(0x1ea));Logger[_0x58779a(0x23e)](_0x58779a(0x190)+_0x108999);const _0x2ad9ca={'city':_0x108999,'temperature':_0x58779a(0x242),'condition':'Sunny'};return _0x2ad9ca;}},AiAgent=class{constructor(_0x1cebc0){const _0x38e9a7=a0_0x49ea07;__publicField(this,_0x38e9a7(0x15e),import_zod2['z'][_0x38e9a7(0x216)]({'agentUrl':import_zod2['z'][_0x38e9a7(0x24b)]()[_0x38e9a7(0x215)](0x1,'Agent\x20URL\x20is\x20required'),'apiKey':import_zod2['z'][_0x38e9a7(0x24b)]()[_0x38e9a7(0x215)](0x1,_0x38e9a7(0x256)),'systemPromptFile':import_zod2['z'][_0x38e9a7(0x24b)]()[_0x38e9a7(0x223)](),'streamMethod':import_zod2['z']['enum']([_0x38e9a7(0x202),_0x38e9a7(0x1f3)])[_0x38e9a7(0x223)](),'model':import_zod2['z'][_0x38e9a7(0x171)]([import_zod2['z'][_0x38e9a7(0x24b)]()[_0x38e9a7(0x1d3)](_0x1fbb52=>_0x1fbb52['startsWith'](_0x38e9a7(0x1f4)),{'message':'Invalid\x20OpenAI\x20model\x20ID'}),import_zod2['z'][_0x38e9a7(0x24b)]()['refine'](_0x106278=>_0x106278[_0x38e9a7(0x178)]('gemini-'),{'message':_0x38e9a7(0x1dd)})])['optional'](),'saveSession':import_zod2['z'][_0x38e9a7(0x1b6)]()[_0x38e9a7(0x223)](),'tools':import_zod2['z'][_0x38e9a7(0x1d9)](import_zod2['z'][_0x38e9a7(0x1ad)]())[_0x38e9a7(0x223)]()})),__publicField(this,'aiAgentUrl'),__publicField(this,_0x38e9a7(0x1b2)),__publicField(this,_0x38e9a7(0x17e)),__publicField(this,_0x38e9a7(0x186),'text'),__publicField(this,_0x38e9a7(0x18b)),__publicField(this,_0x38e9a7(0x230),{'getCurrentTime':TaskHandler[_0x38e9a7(0x22d)]});try{const _0x7bb2e0=this['aiAgentSchema'][_0x38e9a7(0x1af)](_0x1cebc0);this[_0x38e9a7(0x1e3)]=_0x7bb2e0[_0x38e9a7(0x17a)],this['apiKey']=_0x7bb2e0[_0x38e9a7(0x1b2)],this[_0x38e9a7(0x17e)]=_0x7bb2e0['systemPromptFile'],this[_0x38e9a7(0x186)]=_0x7bb2e0[_0x38e9a7(0x186)]||_0x38e9a7(0x1f3);if(!this[_0x38e9a7(0x1e3)]||!this['apiKey'])throw new Error('Agent\x20URL\x20and\x20API\x20key\x20are\x20required.');this['model']=this[_0x38e9a7(0x16e)]({'model':_0x7bb2e0['model']}),_0x7bb2e0[_0x38e9a7(0x213)]&&(this['toolSet']={'getCurrentTime':TaskHandler['getCurrentTime'],..._0x7bb2e0[_0x38e9a7(0x213)]});}catch(_0x2715e2){throw new Error('Invalid\x20configuration:\x20'+_0x2715e2);}}[a0_0x49ea07(0x16e)]({model:_0x2da6c4}){const _0x455c59=a0_0x49ea07;if(_0x2da6c4?.[_0x455c59(0x178)](_0x455c59(0x19c))){const _0x24e033=(0x0,import_google[_0x455c59(0x16c)])({'apiKey':this['apiKey'],'baseURL':this['aiAgentUrl']});return _0x24e033(_0x2da6c4);}else{if(_0x2da6c4?.['startsWith'](_0x455c59(0x1f4))){const _0x53bc1e=(0x0,import_openai[_0x455c59(0x24a)])({'baseURL':this[_0x455c59(0x1e3)],'apiKey':this[_0x455c59(0x1b2)],'compatibility':'strict'});return _0x53bc1e(_0x2da6c4);}}const _0x4aee56=(0x0,import_openai[_0x455c59(0x24a)])({'baseURL':this[_0x455c59(0x1e3)],'apiKey':this[_0x455c59(0x1b2)],'compatibility':_0x455c59(0x16b)});return _0x4aee56(_0x455c59(0x1f5));}async[a0_0x49ea07(0x23a)](){const _0x5906ec=a0_0x49ea07;if(!this['systemPromptFile'])return'';const _0x29e74c=await IOF[_0x5906ec(0x229)](this[_0x5906ec(0x17e)]);if(!_0x29e74c)throw new Error('System\x20prompt\x20file\x20not\x20found\x20or\x20empty.');return _0x29e74c;}async['getUserInfo'](_0x495e10){const _0xb0bfdd=a0_0x49ea07,_0x3fc4bd=_0xb0bfdd(0x1c4)+(_0x495e10[_0xb0bfdd(0x196)]||_0x495e10[_0xb0bfdd(0x173)]||'')+',\x20',_0x4132dc=_0xb0bfdd(0x18d)+(_0x495e10['phone']||'')+'.\x20\x0a';return _0x3fc4bd+_0x4132dc;}async['generateText']({messages:_0x5f58d0,prompt:_0x2acfff}){const _0x36c36e=a0_0x49ea07;if(_0x2acfff&&typeof _0x2acfff!=='string')throw new Error('Prompt\x20must\x20be\x20a\x20string.');if(_0x5f58d0&&!Array[_0x36c36e(0x1b7)](_0x5f58d0))throw new Error(_0x36c36e(0x207));if(_0x2acfff)return await(0x0,import_ai2['generateText'])({'model':this[_0x36c36e(0x18b)],'system':await this[_0x36c36e(0x23a)](),'tools':Object[_0x36c36e(0x1c7)](this[_0x36c36e(0x230)])[_0x36c36e(0x15f)]>0x0?this[_0x36c36e(0x230)]:void 0x0,'maxSteps':Object['keys'](this[_0x36c36e(0x230)])[_0x36c36e(0x15f)]>0x0?Number['MAX_SAFE_INTEGER']:void 0x0,'prompt':_0x2acfff});return await(0x0,import_ai2[_0x36c36e(0x1bd)])({'model':this[_0x36c36e(0x18b)],'system':await this[_0x36c36e(0x23a)](),'tools':Object[_0x36c36e(0x1c7)](this[_0x36c36e(0x230)])['length']>0x0?this[_0x36c36e(0x230)]:void 0x0,'maxSteps':Object[_0x36c36e(0x1c7)](this['toolSet'])[_0x36c36e(0x15f)]>0x0?Number[_0x36c36e(0x1b5)]:void 0x0,'messages':_0x5f58d0});}async[a0_0x49ea07(0x1cd)](_0xc11abb){const _0x1c7a35=a0_0x49ea07;return(0x0,import_ai2[_0x1c7a35(0x251)])({'model':this[_0x1c7a35(0x18b)],'system':await this[_0x1c7a35(0x23a)](),'tools':Object[_0x1c7a35(0x1c7)](this[_0x1c7a35(0x230)])[_0x1c7a35(0x15f)]>0x0?this[_0x1c7a35(0x230)]:void 0x0,'maxSteps':Object[_0x1c7a35(0x1c7)](this[_0x1c7a35(0x230)])[_0x1c7a35(0x15f)]>0x0?Number[_0x1c7a35(0x1b5)]:void 0x0,'messages':_0xc11abb});}async[a0_0x49ea07(0x208)]({user:_0x59ff80,session:_0x2e8cf4,prompt:_0x4382ca,media:_0x2bdb11}){const _0x3e9914=a0_0x49ea07;try{if(!_0x4382ca||typeof _0x4382ca!==_0x3e9914(0x24b))throw new Error(_0x3e9914(0x22a));if(_0x2e8cf4&&!Array[_0x3e9914(0x1b7)](_0x2e8cf4))throw new Error(_0x3e9914(0x1f8));if(_0x2e8cf4&&_0x2e8cf4['length']>0x0){let _0x437fe1=[];!_0x2bdb11||_0x2bdb11[_0x3e9914(0x217)]===''?_0x437fe1=[..._0x2e8cf4,{'role':_0x3e9914(0x18c),'content':_0x4382ca}]:_0x437fe1=[..._0x2e8cf4,{'role':_0x3e9914(0x18c),'content':[{'type':_0x3e9914(0x1f3),'text':_0x4382ca},{'type':'file','data':_0x2bdb11[_0x3e9914(0x217)],'mimeType':_0x2bdb11['mimeType']||_0x3e9914(0x19e)}]}];if(this[_0x3e9914(0x186)]===_0x3e9914(0x202)){const _0x154deb=await this[_0x3e9914(0x1cd)](_0x437fe1);return{'textStream':_0x154deb[_0x3e9914(0x19a)],'response':_0x154deb['response']};}const {text:_0x32a2e1,response:_0x44dde7}=await this[_0x3e9914(0x1bd)]({'messages':_0x437fe1});return{'text':_0x32a2e1,'response':_0x44dde7};}const _0x3be223=_0x59ff80?await this[_0x3e9914(0x25f)](_0x59ff80):'',_0x4501e2=_0x3be223+'\x20'+_0x4382ca;if(this[_0x3e9914(0x186)]===_0x3e9914(0x202)){const _0x476bd9=await this[_0x3e9914(0x1cd)]([{'role':'user','content':_0x4501e2}]);return{'textStream':_0x476bd9['textStream'],'response':_0x476bd9[_0x3e9914(0x264)]};}const {text:_0x5e7b46,response:_0xd8a04c}=await this['generateText']({'prompt':_0x4501e2});return{'text':_0x5e7b46,'response':_0xd8a04c};}catch(_0x156479){if(_0x156479 instanceof Error&&_0x156479[_0x3e9914(0x221)][_0x3e9914(0x200)]('Rate\x20limit'))return Logger[_0x3e9914(0x193)](_0x3e9914(0x1c3)),this[_0x3e9914(0x18b)]=this[_0x3e9914(0x16e)]({'model':_0x3e9914(0x263)}),await this['startChat']({'user':_0x59ff80,'session':_0x2e8cf4,'prompt':_0x4382ca});throw new Error(_0x3e9914(0x25d)+_0x156479);}}},hash_exports={};__export(hash_exports,{'GenerateRandomString':()=>GenerateRandomString,'GenerateUUID':()=>GenerateUUID,'HashWithSHA256':()=>HashWithSHA256});var import_crypto=__toESM(require(a0_0x49ea07(0x244)));function HashWithSHA256(_0x2c55ec){const _0x2dc705=a0_0x49ea07;return import_crypto['default'][_0x2dc705(0x1c6)](_0x2dc705(0x1bf))[_0x2dc705(0x1e5)](_0x2c55ec)['digest'](_0x2dc705(0x1b4));}function GenerateUUID(){const _0x1d1ab3=a0_0x49ea07;return(0x0,import_crypto[_0x1d1ab3(0x22c)])();}function GenerateRandomString(_0x3ef2c6){const _0x2d97fb=a0_0x49ea07;return import_crypto[_0x2d97fb(0x1bc)][_0x2d97fb(0x1df)](_0x3ef2c6)[_0x2d97fb(0x1ca)]('hex')[_0x2d97fb(0x1fb)](0x0,_0x3ef2c6);}var terminal_exports={};__export(terminal_exports,{'ClearTerminal':()=>ClearTerminal,'CloseTerminal':()=>CloseTerminal,'Help':()=>Help,'ParseEnvKeys':()=>ParseEnvKeys,'Question':()=>Question});var rl=__toESM(require(a0_0x49ea07(0x168))),import_dotenv=__toESM(require(a0_0x49ea07(0x150)));import_dotenv[a0_0x49ea07(0x1bc)][a0_0x49ea07(0x15a)]();var terminal=rl['createInterface']({'input':process['stdin'],'output':process[a0_0x49ea07(0x157)],'terminal':!![],'completer':_0x178f56=>{const _0x3e9a8d=a0_0x49ea07,_0x42f24e=[_0x3e9a8d(0x1c9),_0x3e9a8d(0x1a5),_0x3e9a8d(0x249)],_0x236ef9=_0x42f24e[_0x3e9a8d(0x153)](_0x2b8489=>_0x2b8489[_0x3e9a8d(0x178)](_0x178f56));return[_0x236ef9[_0x3e9a8d(0x15f)]?_0x236ef9:_0x42f24e,_0x178f56];}});async function Question(_0x151175){const _0x11d929=a0_0x49ea07;return terminal[_0x11d929(0x1b8)](_0x151175?_0x151175+':\x20':':\x20');}async function CloseTerminal(){const _0xecba6a=a0_0x49ea07;await terminal[_0xecba6a(0x1be)](),process[_0xecba6a(0x1a5)](0x0);}async function ClearTerminal(){const _0x231cb4=a0_0x49ea07;return process['stdout'][_0x231cb4(0x254)]('\x1bc'),terminal[_0x231cb4(0x1d1)]();}async function Help(){const _0x4c7fff=a0_0x49ea07;return console[_0x4c7fff(0x209)](_0x4c7fff(0x1ec)),terminal[_0x4c7fff(0x1d1)]();}function ParseEnvKeys(_0x510862){const _0x244372=a0_0x49ea07,_0x5d60a0=Object[_0x244372(0x1c7)](process[_0x244372(0x23b)])[_0x244372(0x153)](_0x487c82=>_0x487c82['startsWith'](_0x510862)),_0x2e4a0a=[],_0x4116f7=[];return _0x5d60a0[_0x244372(0x181)](_0x4b2f89=>{const _0x453f98=_0x244372;process['env'][_0x4b2f89]&&(_0x2e4a0a[_0x453f98(0x17f)](_0x4b2f89),_0x4116f7[_0x453f98(0x17f)](process[_0x453f98(0x23b)][_0x4b2f89]));}),{'keys':_0x2e4a0a,'values':_0x4116f7};}0x0&&(module['exports']={'Agent':Agent,'Colors':Colors,'Hash':Hash,'IOF':IOF,'Logger':Logger,'MimeType':MimeType,'Terminal':Terminal,'Time':Time,'Tools':Tools});