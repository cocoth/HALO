'use strict';function a0_0x4393(){const _0x2c8bdb=['prompt','\x1b[42m','text/css','gpt-','Prompt\x20must\x20be\x20a\x20string.','Rate\x20limit\x20exceeded,\x20switching\x20model...','length','slice','streamMethod','update','init','message','psd','gif','mimeType','Messages\x20must\x20be\x20an\x20array\x20of\x20CoreMessage.','image/avif','7384272EalIqr','getTimeToLogFormat','video/x-matroska','response','application/x-rar-compressed','image/tiff','audio/flac','Get\x20weather\x20information\x20for\x20a\x20specified\x20city.','logFormat','Retrieving\x20weather\x20for\x20city:\x20','dim','m2v','debug','getCurrentTime','basename','object','Invalid\x20OpenAI\x20model\x20ID','setFileLocation','fileuri','webp','image/x-nikon-nef','minute','rar','cwd','bmp','heic','id-ID','INFO','stream','image/heic','Failed\x20to\x20create\x20directory\x20at\x20','\x1b[37m','apiKey','video/mpeg','json','exports','m2t','close','\x1b[30m','forEach','utf-8','application/octet-stream','Failed\x20to\x20download\x20file:\x20','hex','__esModule','name','mts','base64','isBuffer','hasOwnProperty','year','create','mpe','model','write','raw','rw2','streamText','image/x-panasonic-rw2','2-digit','video/x-m4v','dng','image/jpeg','3ueiWmh','question','strict','Buffer\x20cannot\x20be\x20empty','8935eEThFS','7893hYwrbG','css','MAX_SAFE_INTEGER','arw','flac','file','optional','day','indd','eps','log','\x1b[4m','cr3','promises','pop','WARN','createHash','\x1b[8m','\x1b[7m','toolSet','audio/ogg','mpeg','Failed\x20to\x20convert\x20file\x20to\x20generative\x20path:\x20','info','zod','application/postscript','image/gif','m4r','keys','Agent\x20URL\x20and\x20API\x20key\x20are\x20required.','image/x-sigma-x3f','\x1b[5m','inlineData','text','formatDateToHumanReadable','zip','image/x-olympus-orf','mkv','gemini-1.5-flash','wav','path','prototype','aiAgentSchema','generateText','downloadFile','11879091pqoksx','mkdir','tts','call','describe','DEBUG','clear','systemPrompt','record','crypto','getUserInfo','html','filter','tool','calculateHashByBuffer','jpeg','formatDateString','pdf','m4a','\x1b[1m','image/x-canon-cr3','\x1b[31m','\x1b[44m','getCurrentTimeToHumanReadable','mkdirSync','agentUrl','5452Sucwfl','enumerable','text/plain','Rate\x20limit','System\x20prompt\x20file\x20not\x20found\x20or\x20empty.','push','aiAgentUrl','Failed\x20to\x20read\x20file\x20at\x20','Session\x20must\x20be\x20an\x20array\x20of\x20CoreMessage.','flv','Creating\x20directory:\x20','startsWith','readTextFile','refine','@ai-sdk/openai','user','string','join','toString','second','\x0aAvailable\x20commands:\x0a\x20\x20-\x20help:\x20Show\x20this\x20help\x20message\x0a\x20\x20-\x20exit:\x20Exit\x20the\x20terminal\x0a\x20\x20-\x20clear:\x20Clear\x20the\x20terminal\x20screen\x0a\x20\x20','png','ERROR','readline/promises','min','systemPromptFile','month','1829766ZEkumC','help','env','.\x20\x0a','includes','292140sIxwzb','existsSync','getWeather','tsa','audio/alac','parse','AI\x20Agent\x20test\x20chat\x20failed:\x20','stdout','default','sha256','exit','createGoogleGenerativeAI','\x1b[43m','formatDateToParts','application/xml','xml','createOpenAI','tools','randomBytes','City\x20is\x20required','3gp','byteLength','2984nRtkut','from','image/x-pentax-pef','\x1b[46m','aac','stdin','hour','application/x-7z-compressed','pef','alac','ogg','tsv','m2ts','calculateSizeByBuffer','mp2','generateStream','image/x-adobe-dng','Prompt\x20must\x20be\x20a\x20non-empty\x20string.','gemini-','boolean','\x1b[35m','textStream','m4v','startChat','funcName:\x20','getCurrentTimeToString','mov','readFile','@ai-sdk/google','numeric','Input\x20must\x20be\x20a\x20Buffer','symbol','isArray','warn','mpv','custom','phone','function','\x1b[0m','error','image/webp','split','video/x-ms-wmv','SUCCESS','any','image/x-canon-cr2','Asia/Jakarta','getOwnPropertyNames','DateTimeFormat','Hai\x20My\x20Username\x20Is:\x20','\x1b[32m','txt','reset','1844MuhUbV','avif','dotenv','orf','Sunny','digest','success','\x1b[45m','fileToGenerativePath','avi',':\x20\x20','application/x-indesign','\x1b[47m'];a0_0x4393=function(){return _0x2c8bdb;};return a0_0x4393();}const a0_0x51d9a9=a0_0x2586;(function(_0x1e907e,_0x321456){const _0x9fffff=a0_0x2586,_0x4ef3b3=_0x1e907e();while(!![]){try{const _0x55bf91=-parseInt(_0x9fffff(0x181))/0x1+-parseInt(_0x9fffff(0x19c))/0x2*(-parseInt(_0x9fffff(0x135))/0x3)+-parseInt(_0x9fffff(0x1ec))/0x4*(parseInt(_0x9fffff(0x139))/0x5)+-parseInt(_0x9fffff(0x20a))/0x6+parseInt(_0x9fffff(0x167))/0x7+-parseInt(_0x9fffff(0x1b7))/0x8*(-parseInt(_0x9fffff(0x13a))/0x9)+parseInt(_0x9fffff(0x1a1))/0xa;if(_0x55bf91===_0x321456)break;else _0x4ef3b3['push'](_0x4ef3b3['shift']());}catch(_0x39ab50){_0x4ef3b3['push'](_0x4ef3b3['shift']());}}}(a0_0x4393,0xddbe4));var __create=Object[a0_0x51d9a9(0x129)],__defProp=Object['defineProperty'],__getOwnPropDesc=Object['getOwnPropertyDescriptor'],__getOwnPropNames=Object[a0_0x51d9a9(0x1e6)],__getProtoOf=Object['getPrototypeOf'],__hasOwnProp=Object[a0_0x51d9a9(0x163)][a0_0x51d9a9(0x127)],__defNormalProp=(_0x353a93,_0x9ad080,_0x26f3ac)=>_0x9ad080 in _0x353a93?__defProp(_0x353a93,_0x9ad080,{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x26f3ac}):_0x353a93[_0x9ad080]=_0x26f3ac,__export=(_0x559b91,_0x439348)=>{for(var _0x2479d8 in _0x439348)__defProp(_0x559b91,_0x2479d8,{'get':_0x439348[_0x2479d8],'enumerable':!![]});},__copyProps=(_0x9d2909,_0x2e62a3,_0xada1ce,_0x5b5a32)=>{const _0x20db6e=a0_0x51d9a9;if(_0x2e62a3&&typeof _0x2e62a3==='object'||typeof _0x2e62a3===_0x20db6e(0x1dc)){for(let _0x3571a3 of __getOwnPropNames(_0x2e62a3))if(!__hasOwnProp[_0x20db6e(0x16a)](_0x9d2909,_0x3571a3)&&_0x3571a3!==_0xada1ce)__defProp(_0x9d2909,_0x3571a3,{'get':()=>_0x2e62a3[_0x3571a3],'enumerable':!(_0x5b5a32=__getOwnPropDesc(_0x2e62a3,_0x3571a3))||_0x5b5a32[_0x20db6e(0x182)]});}return _0x9d2909;},__toESM=(_0x2d7964,_0x5420fb,_0x5644e9)=>(_0x5644e9=_0x2d7964!=null?__create(__getProtoOf(_0x2d7964)):{},__copyProps(_0x5420fb||!_0x2d7964||!_0x2d7964[a0_0x51d9a9(0x122)]?__defProp(_0x5644e9,a0_0x51d9a9(0x1a9),{'value':_0x2d7964,'enumerable':!![]}):_0x5644e9,_0x2d7964)),__toCommonJS=_0x17ea56=>__copyProps(__defProp({},'__esModule',{'value':!![]}),_0x17ea56),__publicField=(_0x8deb95,_0x1190d2,_0x171bf3)=>__defNormalProp(_0x8deb95,typeof _0x1190d2!==a0_0x51d9a9(0x1d6)?_0x1190d2+'':_0x1190d2,_0x171bf3),index_exports={};__export(index_exports,{'Agent':()=>agent_exports,'Colors':()=>colors_exports,'Hash':()=>hash_exports,'IOF':()=>iof_exports,'Logger':()=>logger_exports,'MimeType':()=>mimeType_exports,'Terminal':()=>terminal_exports,'Time':()=>time_exports,'Tools':()=>tools_exports}),module[a0_0x51d9a9(0x119)]=__toCommonJS(index_exports);var agent_exports={};__export(agent_exports,{'AiAgent':()=>AiAgent});var logger_exports={};__export(logger_exports,{'Logger':()=>Logger});var colors_exports={};__export(colors_exports,{'terminalColors':()=>terminalColors});var terminalColors={'reset':a0_0x51d9a9(0x1dd),'bright':a0_0x51d9a9(0x17a),'dim':'\x1b[2m','underscore':a0_0x51d9a9(0x145),'blink':a0_0x51d9a9(0x159),'reverse':a0_0x51d9a9(0x14c),'hidden':a0_0x51d9a9(0x14b),'BLK':a0_0x51d9a9(0x11c),'R':a0_0x51d9a9(0x17c),'G':a0_0x51d9a9(0x1e9),'Y':'\x1b[33m','B':'\x1b[34m','M':a0_0x51d9a9(0x1cb),'C':'\x1b[36m','W':a0_0x51d9a9(0x115),'BBLK':'\x1b[40m','BR':'\x1b[41m','BG':a0_0x51d9a9(0x1fa),'BY':a0_0x51d9a9(0x1ad),'BB':a0_0x51d9a9(0x17d),'BM':a0_0x51d9a9(0x1f3),'BC':a0_0x51d9a9(0x1ba),'BW':a0_0x51d9a9(0x1f8)},time_exports={};__export(time_exports,{'Time':()=>Time});var Time=class _Time{static[a0_0x51d9a9(0x1ae)](_0x12513e,_0x3539e3){const _0x14e1aa=a0_0x51d9a9,_0x304c34=new Intl[(_0x14e1aa(0x1e7))](_0x14e1aa(0x110),{'timeZone':_0x3539e3,'year':_0x14e1aa(0x1d4),'month':_0x14e1aa(0x131),'day':_0x14e1aa(0x131),'hour':'2-digit','minute':_0x14e1aa(0x131),'second':'2-digit','hour12':![]}),_0x238816=_0x304c34['formatToParts'](_0x12513e),_0x4b978e={};return _0x238816[_0x14e1aa(0x11d)](({type:_0x29cda3,value:_0x15ed1c})=>{_0x4b978e[_0x29cda3]=_0x15ed1c;}),_0x4b978e;}static[a0_0x51d9a9(0x177)](_0x44270d){const _0x1b8c94=a0_0x51d9a9;return _0x44270d['year']+'-'+_0x44270d[_0x1b8c94(0x19b)]+'-'+_0x44270d[_0x1b8c94(0x141)]+'T'+_0x44270d[_0x1b8c94(0x1bd)]+':'+_0x44270d['minute']+':'+_0x44270d[_0x1b8c94(0x194)]+'Z';}static[a0_0x51d9a9(0x212)](_0x5b2c55){const _0x5ee876=a0_0x51d9a9;return _0x5b2c55[_0x5ee876(0x141)]+'/'+_0x5b2c55[_0x5ee876(0x19b)]+'/'+_0x5b2c55['year']+':'+_0x5b2c55[_0x5ee876(0x1bd)]+':'+_0x5b2c55[_0x5ee876(0x10b)]+':'+_0x5b2c55[_0x5ee876(0x194)];}static[a0_0x51d9a9(0x15c)](_0x59d0cf,_0x25138c){const _0x130bad=a0_0x51d9a9,_0x540820=_Time['formatDateToParts'](_0x59d0cf,_0x25138c);return _0x540820[_0x130bad(0x141)]+'/'+_0x540820[_0x130bad(0x19b)]+'/'+_0x540820[_0x130bad(0x128)]+'\x20'+_0x540820[_0x130bad(0x1bd)]+':'+_0x540820[_0x130bad(0x10b)]+':'+_0x540820[_0x130bad(0x194)];}static[a0_0x51d9a9(0x103)](){const _0x1ab83e=a0_0x51d9a9,_0xf5d92c=new Date(),_0x27c47d=_Time['formatDateToParts'](_0xf5d92c,_0x1ab83e(0x1e5)),_0x16924a=_Time[_0x1ab83e(0x177)](_0x27c47d);return new Date(_0x16924a);}static[a0_0x51d9a9(0x1d0)](){const _0x113f17=a0_0x51d9a9,_0x5aac01=new Date(),_0x4e6a95=_Time[_0x113f17(0x1ae)](_0x5aac01,'Asia/Jakarta');return _Time[_0x113f17(0x177)](_0x4e6a95);}static[a0_0x51d9a9(0x17e)](){const _0x527793=a0_0x51d9a9,_0x385d15=new Date();return _Time[_0x527793(0x15c)](_0x385d15,_0x527793(0x1e5));}static[a0_0x51d9a9(0x20b)](){const _0x5cd2ba=a0_0x51d9a9,_0x221cab=new Date(),_0x358436=_Time['formatDateToParts'](_0x221cab,_0x5cd2ba(0x1e5));return _Time['logFormat'](_0x358436);}},Logger=class{static[a0_0x51d9a9(0x144)](_0x17f9e1,_0x42bbcf,_0x524fdb){const _0x929944=a0_0x51d9a9,_0x3b8845={'DEBUG':terminalColors['M'],'WARN':terminalColors['BY'],'ERROR':terminalColors['R'],'INFO':terminalColors['B'],'SUCCESS':terminalColors['G']},_0x7cfc34=_0x3b8845[_0x17f9e1]||terminalColors[_0x929944(0x1eb)],_0xfbe96=Time[_0x929944(0x20b)](),_0x197549=_0x524fdb?_0x929944(0x1cf)+_0x524fdb:'',_0x684b75=_0x17f9e1==='ERROR'||_0x17f9e1==='WARN'?console[_0x929944(0x144)]:_0x17f9e1===_0x929944(0x111)?console['info']:console[_0x929944(0x144)];_0x684b75(terminalColors[_0x929944(0x100)]+'['+_0xfbe96+']'+terminalColors[_0x929944(0x1eb)]+'\x20'+_0x7cfc34+'['+_0x17f9e1+']'+terminalColors[_0x929944(0x1eb)]+'\x20'+_0x197549+':\x20'+_0x42bbcf);}static[a0_0x51d9a9(0x1f2)](_0x2187bc,_0x10e067){const _0x11db2c=a0_0x51d9a9;this[_0x11db2c(0x144)](_0x11db2c(0x1e2),_0x2187bc,_0x10e067);}static[a0_0x51d9a9(0x1de)](_0x590ed3,_0x39f99b){const _0x4895e2=a0_0x51d9a9;this[_0x4895e2(0x144)](_0x4895e2(0x197),_0x590ed3,_0x39f99b);}static[a0_0x51d9a9(0x1d8)](_0x1c0ef4,_0x1ab243){const _0x5499c5=a0_0x51d9a9;this[_0x5499c5(0x144)](_0x5499c5(0x149),_0x1c0ef4,_0x1ab243);}static[a0_0x51d9a9(0x151)](_0x449dc4,_0xf885fb){const _0x25d8eb=a0_0x51d9a9;this[_0x25d8eb(0x144)]('INFO',_0x449dc4,_0xf885fb);}static[a0_0x51d9a9(0x102)](_0x461c21,_0x32b706){const _0x3ce3a5=a0_0x51d9a9;this[_0x3ce3a5(0x144)](_0x3ce3a5(0x16c),_0x461c21,_0x32b706);}static[a0_0x51d9a9(0x1da)](_0x941aee,_0x49ad12,_0x226c77){const _0x4e19e7=a0_0x51d9a9,_0x34f102=_0x226c77?_0x4e19e7(0x1cf)+_0x226c77:'',_0x2c19b5=Time[_0x4e19e7(0x20b)]();console[_0x4e19e7(0x144)](terminalColors[_0x4e19e7(0x100)]+'['+_0x2c19b5+']'+terminalColors['reset']+'\x20'+terminalColors['C']+'['+_0x941aee+']'+terminalColors[_0x4e19e7(0x1eb)]+'\x20'+_0x34f102+':\x20'+_0x49ad12);}},import_openai=require(a0_0x51d9a9(0x18f)),import_ai2=require('ai'),import_zod2=require(a0_0x51d9a9(0x152)),iof_exports={};__export(iof_exports,{'IOF':()=>IOF});var crypto=__toESM(require(a0_0x51d9a9(0x170))),path=__toESM(require(a0_0x51d9a9(0x162))),fs=__toESM(require('fs')),mimeType_exports={};__export(mimeType_exports,{'mimeType':()=>mimeType});function mimeType(_0x35ab56){const _0x76c113=a0_0x51d9a9,_0x44d509=_0x35ab56[_0x76c113(0x1e0)]('.')[_0x76c113(0x148)]();switch(_0x44d509){case'mp4':case _0x76c113(0x179):case'm4b':case'm4p':case _0x76c113(0x155):case _0x76c113(0x14f):case'mpg':case _0x76c113(0x12a):case _0x76c113(0x1d9):case _0x76c113(0x1c5):case _0x76c113(0x101):case _0x76c113(0x1c3):case _0x76c113(0x124):case _0x76c113(0x169):case _0x76c113(0x11a):case _0x76c113(0x1c2):case _0x76c113(0x1a4):return _0x76c113(0x117);case'webm':return'video/webm';case _0x76c113(0x1b5):return'video/3gpp';case _0x76c113(0x15f):return _0x76c113(0x20c);case _0x76c113(0x1f5):return'video/x-msvideo';case _0x76c113(0x1d1):return'video/quicktime';case'wmv':return _0x76c113(0x1e1);case _0x76c113(0x18a):return'video/x-flv';case _0x76c113(0x1cd):return _0x76c113(0x132);case'mp3':return'audio/mpeg';case _0x76c113(0x161):return'audio/wav';case _0x76c113(0x1c1):return _0x76c113(0x14e);case _0x76c113(0x1bb):return'audio/aac';case _0x76c113(0x13e):return _0x76c113(0x210);case _0x76c113(0x1c0):return _0x76c113(0x1a5);case'jpg':case _0x76c113(0x176):return _0x76c113(0x134);case _0x76c113(0x196):return'image/png';case _0x76c113(0x206):return _0x76c113(0x154);case _0x76c113(0x10e):return'image/bmp';case _0x76c113(0x109):return _0x76c113(0x1df);case'svg':return'image/svg+xml';case'ico':return'image/x-icon';case'tiff':return _0x76c113(0x20f);case _0x76c113(0x205):return'image/vnd.adobe.photoshop';case'ai':return _0x76c113(0x153);case _0x76c113(0x143):return _0x76c113(0x153);case _0x76c113(0x142):return _0x76c113(0x1f7);case _0x76c113(0x12d):return'image/x-raw';case'cr2':return _0x76c113(0x1e4);case'nef':return _0x76c113(0x10a);case _0x76c113(0x1ef):return _0x76c113(0x15e);case _0x76c113(0x12e):return _0x76c113(0x130);case _0x76c113(0x1bf):return _0x76c113(0x1b9);case _0x76c113(0x13d):return'image/x-sony-arw';case _0x76c113(0x133):return _0x76c113(0x1c7);case'x3f':return _0x76c113(0x158);case _0x76c113(0x146):return _0x76c113(0x17b);case _0x76c113(0x10f):return _0x76c113(0x113);case'heif':return'image/heif';case _0x76c113(0x1ed):return _0x76c113(0x209);case _0x76c113(0x178):return'application/pdf';case _0x76c113(0x1ea):return _0x76c113(0x183);case _0x76c113(0x172):return'text/html';case _0x76c113(0x13b):return _0x76c113(0x1fb);case'js':return'application/javascript';case _0x76c113(0x118):return'application/json';case _0x76c113(0x1b0):return _0x76c113(0x1af);case _0x76c113(0x15d):return'application/zip';case _0x76c113(0x10c):return _0x76c113(0x20e);case'7z':return _0x76c113(0x1be);default:return _0x76c113(0x11f);}}var IOF=class _IOF{static[a0_0x51d9a9(0x168)](_0x4ec55b){const _0x90a876=a0_0x51d9a9;try{!fs[_0x90a876(0x1a2)](_0x4ec55b)&&(Logger[_0x90a876(0x151)](_0x90a876(0x18b)+_0x4ec55b),fs[_0x90a876(0x17f)](_0x4ec55b,{'recursive':!![]}));}catch(_0x3d62e8){throw new Error(_0x90a876(0x114)+_0x4ec55b+_0x90a876(0x1f6)+(_0x3d62e8 instanceof Error?_0x3d62e8[_0x90a876(0x204)]:String(_0x3d62e8)));}}static[a0_0x51d9a9(0x175)](_0x173583){const _0xc56b0f=a0_0x51d9a9;if(!Buffer['isBuffer'](_0x173583))throw new Error('Input\x20must\x20be\x20a\x20Buffer');if(_0x173583['length']===0x0)throw new Error(_0xc56b0f(0x138));return crypto[_0xc56b0f(0x14a)](_0xc56b0f(0x1aa))[_0xc56b0f(0x202)](_0x173583)[_0xc56b0f(0x1f1)](_0xc56b0f(0x121));}static['calculateSizeByBuffer'](_0x4fae59){const _0xaa8085=a0_0x51d9a9;if(!Buffer[_0xaa8085(0x126)](_0x4fae59))throw new Error(_0xaa8085(0x1d5));if(_0x4fae59[_0xaa8085(0x1ff)]===0x0)throw new Error(_0xaa8085(0x138));return Buffer[_0xaa8085(0x1b6)](_0x4fae59);}async[a0_0x51d9a9(0x107)](_0x533d9d){const _0xf88c34=a0_0x51d9a9,_0x16e534=_IOF['calculateHashByBuffer'](Buffer['from'](_0x533d9d[_0xf88c34(0x13f)])),_0x1fb8bd=_IOF[_0xf88c34(0x1c4)](Buffer[_0xf88c34(0x1b8)](_0x533d9d[_0xf88c34(0x13f)])),_0x1e31ec=mimeType(_0x533d9d[_0xf88c34(0x123)]);try{const _0x338985=path['join'](process[_0xf88c34(0x10d)](),_0x533d9d[_0xf88c34(0x162)],_0x533d9d['name']),_0x2e2056=path['dirname'](_0x338985);return _IOF[_0xf88c34(0x168)](_0x2e2056),await fs[_0xf88c34(0x147)]['writeFile'](_0x338985,_0x533d9d[_0xf88c34(0x13f)]),{'filename':_0x533d9d['name'],'fileuri':_0x338985,'filehash':_0x16e534,'filesize':_0x1fb8bd,'filetype':_0x1e31ec};}catch(_0x1b93bf){throw new Error('Failed\x20to\x20set\x20file\x20location:\x20'+(_0x1b93bf instanceof Error?_0x1b93bf[_0xf88c34(0x204)]:String(_0x1b93bf)));}}static async[a0_0x51d9a9(0x166)](_0x10b86e){const _0x29d6e1=a0_0x51d9a9;try{const _0x286114=await fetch(_0x10b86e[_0x29d6e1(0x108)]),_0x50b570=await _0x286114['arrayBuffer'](),_0x16a8a0=path[_0x29d6e1(0x104)](_0x10b86e[_0x29d6e1(0x108)]),_0x27846d=path[_0x29d6e1(0x192)](_0x10b86e['saveTo'],_0x16a8a0);return fs['writeFileSync'](_0x27846d,Buffer['from'](_0x50b570)),{'filename':_0x16a8a0,'fileuri':_0x27846d,'filehash':_IOF[_0x29d6e1(0x175)](Buffer[_0x29d6e1(0x1b8)](_0x50b570)),'filesize':_IOF[_0x29d6e1(0x1c4)](Buffer['from'](_0x50b570)),'filetype':mimeType(_0x16a8a0)};}catch(_0x2b2b16){throw new Error(_0x29d6e1(0x120)+_0x2b2b16);}}static async[a0_0x51d9a9(0x18d)](_0x1b5c15){const _0x55a656=a0_0x51d9a9;try{const _0x40327f=await fs[_0x55a656(0x147)][_0x55a656(0x1d2)](_0x1b5c15,_0x55a656(0x11e));return _0x40327f;}catch(_0x1608dd){throw new Error(_0x55a656(0x188)+_0x1b5c15);}}async[a0_0x51d9a9(0x1f4)](_0x545ecb){const _0x50ebfa=a0_0x51d9a9;try{const _0x48bbe0=mimeType(_0x545ecb),_0xc7b038=await fs[_0x50ebfa(0x147)]['readFile'](_0x545ecb);return{'inlineData':{'data':Buffer['from'](_0xc7b038)[_0x50ebfa(0x193)](_0x50ebfa(0x125)),'mimeType':_0x48bbe0}};}catch(_0x25d001){throw new Error(_0x50ebfa(0x150)+_0x25d001);}}},import_google=require(a0_0x51d9a9(0x1d3)),tools_exports={};__export(tools_exports,{'TaskHandler':()=>TaskHandler,'Tools':()=>Tools});var import_ai=require('ai'),import_zod=require(a0_0x51d9a9(0x152)),TaskHandler={'getWeather':(0x0,import_ai[a0_0x51d9a9(0x174)])({'description':a0_0x51d9a9(0x211),'parameters':import_zod['z'][a0_0x51d9a9(0x105)]({'city':import_zod['z']['string']()['min'](0x1,a0_0x51d9a9(0x1b4))[a0_0x51d9a9(0x16b)]('Name\x20of\x20the\x20city\x20to\x20get\x20weather\x20information\x20for')}),'execute':async({city:_0x16715e})=>await Tools[a0_0x51d9a9(0x1a3)]({'city':_0x16715e})}),'getCurrentTime':(0x0,import_ai[a0_0x51d9a9(0x174)])({'description':'Get\x20the\x20current\x20date\x20and\x20time\x20in\x20real-time.\x20This\x20tool\x20does\x20not\x20require\x20any\x20parameters.\x20It\x20returns\x20the\x20current\x20time\x20in\x20a\x20standard\x20format.\x20Use\x20this\x20tool\x20when\x20user\x20ask\x20you\x20for\x20current\x20time\x20or\x20date\x20or\x20anything\x20that\x20related\x20to\x20time.','parameters':import_zod['z'][a0_0x51d9a9(0x105)]({}),'execute':async()=>await Tools['getCurrentTime']()})},Tools=class{static async['getCurrentTime'](){const _0xdda684=a0_0x51d9a9;return Logger[_0xdda684(0x151)]('Retrieving\x20current\x20time...'),Time[_0xdda684(0x17e)]();}static async[a0_0x51d9a9(0x1a3)]({city:_0x44f404}){const _0x48d966=a0_0x51d9a9;if(!_0x44f404)throw new Error('City\x20must\x20be\x20provided.');Logger[_0x48d966(0x151)](_0x48d966(0xff)+_0x44f404);const _0x313ce7={'city':_0x44f404,'temperature':'25Â°C','condition':_0x48d966(0x1f0)};return _0x313ce7;}},AiAgent=class{constructor(_0x10b820){const _0x2c4446=a0_0x51d9a9;__publicField(this,_0x2c4446(0x164),import_zod2['z'][_0x2c4446(0x105)]({'agentUrl':import_zod2['z'][_0x2c4446(0x191)]()['min'](0x1,'Agent\x20URL\x20is\x20required'),'apiKey':import_zod2['z']['string']()[_0x2c4446(0x199)](0x1,'API\x20key\x20is\x20required'),'systemPromptFile':import_zod2['z'][_0x2c4446(0x191)]()[_0x2c4446(0x140)](),'streamMethod':import_zod2['z']['enum']([_0x2c4446(0x112),'text'])[_0x2c4446(0x140)](),'model':import_zod2['z']['union']([import_zod2['z'][_0x2c4446(0x191)]()[_0x2c4446(0x18e)](_0x4d7249=>_0x4d7249[_0x2c4446(0x18c)](_0x2c4446(0x1fc)),{'message':_0x2c4446(0x106)}),import_zod2['z']['string']()[_0x2c4446(0x18e)](_0x41186d=>_0x41186d['startsWith']('gemini-'),{'message':'Invalid\x20Google\x20model\x20ID'})])['optional'](),'saveSession':import_zod2['z'][_0x2c4446(0x1ca)]()[_0x2c4446(0x140)](),'tools':import_zod2['z'][_0x2c4446(0x16f)](import_zod2['z'][_0x2c4446(0x1e3)]())[_0x2c4446(0x140)]()})),__publicField(this,_0x2c4446(0x187)),__publicField(this,'apiKey'),__publicField(this,_0x2c4446(0x19a)),__publicField(this,_0x2c4446(0x201),'text'),__publicField(this,_0x2c4446(0x12b)),__publicField(this,_0x2c4446(0x14d),{'getCurrentTime':TaskHandler['getCurrentTime']});try{const _0x4f8949=this[_0x2c4446(0x164)][_0x2c4446(0x1a6)](_0x10b820);this[_0x2c4446(0x187)]=_0x4f8949[_0x2c4446(0x180)],this[_0x2c4446(0x116)]=_0x4f8949['apiKey'],this['systemPromptFile']=_0x4f8949[_0x2c4446(0x19a)],this[_0x2c4446(0x201)]=_0x4f8949['streamMethod']||_0x2c4446(0x15b);if(!this['aiAgentUrl']||!this[_0x2c4446(0x116)])throw new Error(_0x2c4446(0x157));this[_0x2c4446(0x12b)]=this[_0x2c4446(0x203)]({'model':_0x4f8949[_0x2c4446(0x12b)]}),_0x4f8949[_0x2c4446(0x1b2)]&&(this[_0x2c4446(0x14d)]={'getCurrentTime':TaskHandler[_0x2c4446(0x103)],..._0x4f8949[_0x2c4446(0x1b2)]});}catch(_0x55bd39){throw new Error('Invalid\x20configuration:\x20'+_0x55bd39);}}['init']({model:_0x187617}){const _0x27d595=a0_0x51d9a9;if(_0x187617?.[_0x27d595(0x18c)](_0x27d595(0x1c9))){const _0x52c88f=(0x0,import_google[_0x27d595(0x1ac)])({'apiKey':this['apiKey'],'baseURL':this[_0x27d595(0x187)]});return _0x52c88f(_0x187617);}else{if(_0x187617?.[_0x27d595(0x18c)](_0x27d595(0x1fc))){const _0x48dcc0=(0x0,import_openai[_0x27d595(0x1b1)])({'baseURL':this[_0x27d595(0x187)],'apiKey':this['apiKey'],'compatibility':'strict'});return _0x48dcc0(_0x187617);}}const _0x28aa4f=(0x0,import_openai[_0x27d595(0x1b1)])({'baseURL':this[_0x27d595(0x187)],'apiKey':this[_0x27d595(0x116)],'compatibility':_0x27d595(0x137)});return _0x28aa4f('gpt-4o');}async[a0_0x51d9a9(0x16e)](){const _0x46f89c=a0_0x51d9a9;if(!this[_0x46f89c(0x19a)])return'';const _0x41569c=await IOF[_0x46f89c(0x18d)](this[_0x46f89c(0x19a)]);if(!_0x41569c)throw new Error(_0x46f89c(0x185));return _0x41569c;}async[a0_0x51d9a9(0x171)](_0xc06b29){const _0x5aa1aa=a0_0x51d9a9,_0x477ee5=_0x5aa1aa(0x1e8)+(_0xc06b29['username']||_0xc06b29[_0x5aa1aa(0x123)]||'')+',\x20',_0x1209c5='My\x20Phone\x20Number\x20Is:\x20'+(_0xc06b29[_0x5aa1aa(0x1db)]||'')+_0x5aa1aa(0x19f);return _0x477ee5+_0x1209c5;}async[a0_0x51d9a9(0x165)]({messages:_0x3732b5,prompt:_0x1aa5dc}){const _0x596273=a0_0x51d9a9;if(_0x1aa5dc&&typeof _0x1aa5dc!=='string')throw new Error(_0x596273(0x1fd));if(_0x3732b5&&!Array['isArray'](_0x3732b5))throw new Error(_0x596273(0x208));if(_0x1aa5dc)return await(0x0,import_ai2[_0x596273(0x165)])({'model':this[_0x596273(0x12b)],'system':await this[_0x596273(0x16e)](),'tools':Object[_0x596273(0x156)](this[_0x596273(0x14d)])['length']>0x0?this[_0x596273(0x14d)]:void 0x0,'maxSteps':Object['keys'](this['toolSet'])[_0x596273(0x1ff)]>0x0?Number[_0x596273(0x13c)]:void 0x0,'prompt':_0x1aa5dc});return await(0x0,import_ai2[_0x596273(0x165)])({'model':this[_0x596273(0x12b)],'system':await this[_0x596273(0x16e)](),'tools':Object[_0x596273(0x156)](this[_0x596273(0x14d)])[_0x596273(0x1ff)]>0x0?this[_0x596273(0x14d)]:void 0x0,'maxSteps':Object[_0x596273(0x156)](this[_0x596273(0x14d)])[_0x596273(0x1ff)]>0x0?Number[_0x596273(0x13c)]:void 0x0,'messages':_0x3732b5});}async[a0_0x51d9a9(0x1c6)](_0x364588){const _0x5ea302=a0_0x51d9a9;return(0x0,import_ai2[_0x5ea302(0x12f)])({'model':this['model'],'system':await this[_0x5ea302(0x16e)](),'tools':Object[_0x5ea302(0x156)](this[_0x5ea302(0x14d)])['length']>0x0?this['toolSet']:void 0x0,'maxSteps':Object[_0x5ea302(0x156)](this[_0x5ea302(0x14d)])[_0x5ea302(0x1ff)]>0x0?Number[_0x5ea302(0x13c)]:void 0x0,'messages':_0x364588});}async[a0_0x51d9a9(0x1ce)]({user:_0x1e6d1b,session:_0x1c9651,prompt:_0x3d7919,media:_0x591d59}){const _0x10ad72=a0_0x51d9a9;try{if(!_0x3d7919||typeof _0x3d7919!==_0x10ad72(0x191))throw new Error(_0x10ad72(0x1c8));if(_0x1c9651&&!Array[_0x10ad72(0x1d7)](_0x1c9651))throw new Error(_0x10ad72(0x189));if(_0x1c9651&&_0x1c9651[_0x10ad72(0x1ff)]>0x0){let _0x41a8c7=[];!_0x591d59||_0x591d59[_0x10ad72(0x15a)]===''?_0x41a8c7=[..._0x1c9651,{'role':_0x10ad72(0x190),'content':_0x3d7919}]:_0x41a8c7=[..._0x1c9651,{'role':_0x10ad72(0x190),'content':[{'type':_0x10ad72(0x15b),'text':_0x3d7919},{'type':_0x10ad72(0x13f),'data':_0x591d59['inlineData'],'mimeType':_0x591d59[_0x10ad72(0x207)]||_0x10ad72(0x11f)}]}];if(this[_0x10ad72(0x201)]===_0x10ad72(0x112)){const _0xaf780e=await this['generateStream'](_0x41a8c7);return{'textStream':_0xaf780e[_0x10ad72(0x1cc)],'response':_0xaf780e[_0x10ad72(0x20d)]};}const {text:_0x463944,response:_0x27b133}=await this['generateText']({'messages':_0x41a8c7});return{'text':_0x463944,'response':_0x27b133};}const _0x15492b=_0x1e6d1b?await this['getUserInfo'](_0x1e6d1b):'',_0x221324=_0x15492b+'\x20'+_0x3d7919;if(this[_0x10ad72(0x201)]===_0x10ad72(0x112)){const _0x3c8ae4=await this['generateStream']([{'role':'user','content':_0x221324}]);return{'textStream':_0x3c8ae4[_0x10ad72(0x1cc)],'response':_0x3c8ae4['response']};}const {text:_0x26ebb1,response:_0x30d7b0}=await this[_0x10ad72(0x165)]({'prompt':_0x221324});return{'text':_0x26ebb1,'response':_0x30d7b0};}catch(_0xe18963){if(_0xe18963 instanceof Error&&_0xe18963['message'][_0x10ad72(0x1a0)](_0x10ad72(0x184)))return Logger['warn'](_0x10ad72(0x1fe)),this['model']=this['init']({'model':_0x10ad72(0x160)}),await this['startChat']({'user':_0x1e6d1b,'session':_0x1c9651,'prompt':_0x3d7919});throw new Error(_0x10ad72(0x1a7)+_0xe18963);}}},hash_exports={};__export(hash_exports,{'GenerateRandomString':()=>GenerateRandomString,'GenerateUUID':()=>GenerateUUID,'HashWithSHA256':()=>HashWithSHA256});var import_crypto=__toESM(require('crypto'));function HashWithSHA256(_0x331ddf){const _0x508759=a0_0x51d9a9;return import_crypto[_0x508759(0x1a9)]['createHash']('sha256')[_0x508759(0x202)](_0x331ddf)[_0x508759(0x1f1)]('hex');}function GenerateUUID(){return(0x0,import_crypto['randomUUID'])();}function GenerateRandomString(_0x163d0c){const _0x2c1c47=a0_0x51d9a9;return import_crypto[_0x2c1c47(0x1a9)][_0x2c1c47(0x1b3)](_0x163d0c)[_0x2c1c47(0x193)]('hex')[_0x2c1c47(0x200)](0x0,_0x163d0c);}var terminal_exports={};__export(terminal_exports,{'ClearTerminal':()=>ClearTerminal,'CloseTerminal':()=>CloseTerminal,'Help':()=>Help,'ParseEnvKeys':()=>ParseEnvKeys,'Question':()=>Question});var rl=__toESM(require(a0_0x51d9a9(0x198))),import_dotenv=__toESM(require(a0_0x51d9a9(0x1ee)));import_dotenv[a0_0x51d9a9(0x1a9)]['config']();var terminal=rl['createInterface']({'input':process[a0_0x51d9a9(0x1bc)],'output':process['stdout'],'terminal':!![],'completer':_0x289ae0=>{const _0x5648ba=a0_0x51d9a9,_0x8f3c66=[_0x5648ba(0x19d),'exit',_0x5648ba(0x16d)],_0x3dd698=_0x8f3c66[_0x5648ba(0x173)](_0x2c9ef7=>_0x2c9ef7[_0x5648ba(0x18c)](_0x289ae0));return[_0x3dd698[_0x5648ba(0x1ff)]?_0x3dd698:_0x8f3c66,_0x289ae0];}});async function Question(_0x30eda5){const _0x5c43b3=a0_0x51d9a9;return terminal[_0x5c43b3(0x136)](_0x30eda5?_0x30eda5+':\x20':':\x20');}async function CloseTerminal(){const _0x2504c5=a0_0x51d9a9;await terminal[_0x2504c5(0x11b)](),process[_0x2504c5(0x1ab)](0x0);}async function ClearTerminal(){const _0x1f11a6=a0_0x51d9a9;return process[_0x1f11a6(0x1a8)][_0x1f11a6(0x12c)]('\x1bc'),terminal[_0x1f11a6(0x1f9)]();}async function Help(){const _0x36c601=a0_0x51d9a9;return console['log'](_0x36c601(0x195)),terminal[_0x36c601(0x1f9)]();}function ParseEnvKeys(_0x538f7b){const _0x2f0ac1=a0_0x51d9a9,_0x1a647e=Object[_0x2f0ac1(0x156)](process[_0x2f0ac1(0x19e)])['filter'](_0x3ea400=>_0x3ea400['startsWith'](_0x538f7b)),_0x1cc4e6=[],_0x190e04=[];return _0x1a647e[_0x2f0ac1(0x11d)](_0x5d34fb=>{const _0x46eb54=_0x2f0ac1;process[_0x46eb54(0x19e)][_0x5d34fb]&&(_0x1cc4e6[_0x46eb54(0x186)](_0x5d34fb),_0x190e04['push'](process[_0x46eb54(0x19e)][_0x5d34fb]));}),{'keys':_0x1cc4e6,'values':_0x190e04};}function a0_0x2586(_0x4b783a,_0x13d10f){const _0x439300=a0_0x4393();return a0_0x2586=function(_0x2586cf,_0x5b99b6){_0x2586cf=_0x2586cf-0xff;let _0x598fda=_0x439300[_0x2586cf];return _0x598fda;},a0_0x2586(_0x4b783a,_0x13d10f);}0x0&&(module['exports']={'Agent':Agent,'Colors':Colors,'Hash':Hash,'IOF':IOF,'Logger':Logger,'MimeType':MimeType,'Terminal':Terminal,'Time':Time,'Tools':Tools});